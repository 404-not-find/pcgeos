<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: VM_11.htm,v 1.1 97/06/02 15:53:34 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> The VM File's Map Block</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">Virtual Memory</A>: 3.10 <A HREF="VM_7.htm">Using Virtual Memory</A>: 
<A NAME="49125">
 </A>
The VM File's Map Block</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="VM_7.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="VM_10.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">3.9 Closing Files</A> 
<!-- to next --> | <A HREF="VM_12.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.11 File-Access Synchronization</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<PRE>VMGetMapBlock(), VMSetMapBlock()</PRE>
<P>
When they're created, the blocks of a VM file are in no particular order. You will need some way to keep track of VM block handles so you can find each block when you need it. The usual way to do this is with a <EM>
map block</EM>
.</P>
<P>
A map block is just like any other VM block. Like other blocks, it can be a <A NAME="IX_VMGetMapBlock()">
 </A>
standard block, an LMem heap, etc. It is different in only one way: the VM manager keeps track of its handle. By calling the routine <CODE>
VMGetMapBlock()</CODE>
, you can get the VM handle of the map block. You can then look inside the map block to get information about the other blocks.</P>
<P>
Note that the structure of the VM map block is entirely the concern of the creating geode. The VM manager neither requires nor specifies any internal structure or information content.</P>
<P>
<A NAME="IX_VMSetMapBlock()">
 </A>
To create a map block, allocate a VM block through any of the normal techniques, then pass its VM handle as an argument to <CODE>
VMSetMapBlock()</CODE>
. That block will be the new map block. If there already was a map block, the old block will become an ordinary VM block.</P>
<P>
In addition to setting a map block, you can set a <EM>
map database item</EM>
 with the command <CODE>
DBSetMap()</CODE>
. For details, see <A HREF="../../Memory/Database/Database_7.htm#34673">the Database chapter</A>.</P><HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="VM_7.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="VM_10.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">3.9 Closing Files</A> 
<!-- to next --> | <A HREF="VM_12.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.11 File-Access Synchronization</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
