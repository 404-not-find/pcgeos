<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: VM_8.htm,v 1.1 97/06/02 15:54:44 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> How to Use VM</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">Virtual Memory</A>: 3.1 <A HREF="VM_7.htm">Using Virtual Memory</A>: 
How to Use VM</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="VM_7.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="VM_7.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">3 Using Virtual Memory</A> 
<!-- to next --> | <A HREF="VM_9.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.2 Opening or Creating a VM File</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<P>
There are five basic steps to using VM files. The steps are outlined below, and described in greater detail in the following sections.</P>
<UL>
<LI>
Open (or create) the VM file<BR>
Before you perform any actions on a VM file, you must open it with <CODE>
VMOpen()</CODE>
. This routine can be used to open an existing VM file or create a new one. If you use the document control objects, they will open and create files automatically. Once you have created a VM file, you may want to change its attributes with <CODE>
VMSetAttributes()</CODE>
.</LI>
<LI>
Bring a VM block into the global memory heap<BR>
After you open a VM file, you can bring blocks from the file into memory with <CODE>
VMLock()</CODE>
. You can also create new blocks with <CODE>
VMAlloc()</CODE>
 and <CODE>
VMAttach()</CODE>
.</LI>
<LI>
Access the data<BR>
Once a VM block has been brought into memory, you can access it the way you would any other memory block. When you are done with the data, you should unlock it with <CODE>
VMUnlock()</CODE>
. If you change the memory, you should mark it dirty with <CODE>
VMDirty()</CODE>
 before unlocking it. This ensures that the new version of the block will be written to the disk.</LI>
<LI>
Update the VM file<BR>
Use one of the several VM updating routines to copy the dirty blocks back to the disk. (If asynchronous update is allowed, the VM file manager will try to update blocks whenever they are unlocked.)</LI>
<LI>
Close the VM file<BR>
Use <CODE>
VMClose()</CODE>
 when you are done with the file. It will update the file and close it.</LI>
</UL>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="VM_7.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="VM_7.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">3 Using Virtual Memory</A> 
<!-- to next --> | <A HREF="VM_9.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.2 Opening or Creating a VM File</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
