<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: LMem_2.htm,v 1.1 97/06/06 14:22:04 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Structure of a Local Memory Heap</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="sectionTitle">
<A HREF="index.htm">Local Memory</A>: 2 
<A NAME="85325">
 </A>
Structure of a Local Memory Heap</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="index.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> | <A HREF="LMem_3.htm"><IMG SRC="../../docImages/down.gif" BORDER="0" ALT="Down"></A> 
<!-- to previous --> | <A HREF="LMem_1.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">1 Design Philosophy</A> 
<!-- to next --> | <A HREF="LMem_6.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3 Using Local Memory Heaps</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<P>
<A NAME="IX_Chunks">
 </A>
A local memory heap looks and acts much like the global heap. However, it is contained entirely within a single memory block. This block is initialized with a 16-byte <CODE>
LMemBlockHeader</CODE>
 (described on <A HREF="LMem_7.htm#53143"> The offset within the block where the local heap's handle table will begin. The local heap will fill the space to the end of the block; any data between the LMemBlockHeader and the indicated offset will be zero-initialized. If an application wil</A>
), a local memory handle table, and a local memory heap. Optionally, a space for data may be allocated between the header and the handle table.</P>
<P>
Each allocated section of memory within a local heap is called a <EM>
chunk</EM>
, and the handles of these chunks are called <EM>
chunk handles</EM>
. 
<P>
Chunks comprise a chunk of data preceded by a word that contains the length of the data (in bytes). When the heap is created, a certain number of chunk handles will be allocated. If a chunk is requested after all of these chunks have been given out, the local memory routines will enlarge the LMem handle table, relocating chunks as necessary. Unused chunks are stored in a linked list.</P>
<P CLASS="subsectionLink">
<A HREF="LMem_3.htm">The Local Heap</A></P>
<P CLASS="subsectionLink">
<A HREF="LMem_4.htm">Chunks and Chunk Handles</A></P>
<P CLASS="subsectionLink">
<A HREF="LMem_5.htm">Types of LMem Heaps</A></P>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="index.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> | <A HREF="LMem_3.htm"><IMG SRC="../../docImages/down.gif" BORDER="0" ALT="Down"></A> 
<!-- to previous --> | <A HREF="LMem_1.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">1 Design Philosophy</A> 
<!-- to next --> | <A HREF="LMem_6.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3 Using Local Memory Heaps</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
