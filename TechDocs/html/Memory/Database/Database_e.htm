<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: Database_e.htm,v 1.1 97/06/02 15:49:56 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Setting and Using the Map Item</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">Database</A>: 3.6 <A HREF="Database_8.htm">Using Database Routines</A>: 
<A NAME="45059">
 </A>
Setting and Using the Map Item</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Database_8.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Database_d.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">3.5 Resizing DB Items</A> 
<!-- to next --> | <A HREF="Database_f.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.7 Routines for Ungrouped Items</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<PRE>DBSetMap(), DBGetMap(), DBLockMap()</PRE>
<P>
<A NAME="IX_DBSetMap()">
 </A>
A VM file can have a <EM>
map block</EM>
 and a <EM>
map item</EM>
. The map can be retrieved with a special-purpose routine, even if you don't know its handle (or handles); thus, the map usually keeps track of the handles for the rest of the file. The map can be retrieved even if the file is closed and re-opened. To set a map block, use the routine <CODE>
VMSetMap()</CODE>
 (see <A HREF="../../Memory/VM/VM_11.htm#49125">the VM chapter</A>). To set a <EM>map item</EM>
, use the routine <CODE>
DBSetMap()</CODE>
. <CODE>
DBSetMap()</CODE>
 takes three arguments: the file handle, the item's group-handle, and the item's item-handle. The routine sets the file's map item to the DB item specified. A VM file can have both a map block and a map item; these are set independently.</P>
<P>
<A NAME="IX_DBGetMap()">
 </A>
Once you have set a map item, you can retrieve its handles with the command <CODE>
DBGetMap()</CODE>
. This routine takes one argument, namely the file's handle. It returns a <CODE>
DBGroupAndItem</CODE>
 value containing the map item's handles. You can break this value into its constituent handles with <CODE>
DBGroupFromGroupAndItem()</CODE>
 and <CODE>
DBItemFromGroupAndItem()</CODE>
 (see <A HREF="Database_f.htm#11201"> Routines for Ungrouped Items</A>
). <A NAME="IX_DBLockMap()">
 </A>
You can also lock the map directly without knowing its handles by calling the routine <CODE>
DBLockMap()</CODE>
. This routine takes one argument, namely the file handle. It locks the map item and returns the map's address. When you are done with the map item, unlock it normally with a call to <CODE>
DBUnlock()</CODE>
.</P>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Database_8.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Database_d.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">3.5 Resizing DB Items</A> 
<!-- to next --> | <A HREF="Database_f.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.7 Routines for Ungrouped Items</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
