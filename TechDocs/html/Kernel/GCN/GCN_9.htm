<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: GCN_9.htm,v 1.1 97/06/02 15:27:29 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Registering for Notification</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">General Change Notification</A>: 4.2 <A HREF="GCN_7.htm">Application Local GCN Lists</A>: 
Registering for Notification</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="GCN_7.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="GCN_8.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">4.1 Creating Types and Lists</A> 
<!-- to next --> | <A HREF="GCN_a.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">4.3 Handling Application Notification</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<P>
<CODE>
MSG_META_GCN_LIST_ADD</CODE>
 </P>
<P>
<A NAME="IX_MSG_META_GCN_LIST_ADD">
 </A>
Registering for application notification is simple once you have created your own custom notification lists. Whenever an object or process needs to be notified of an application change, you should call <CODE>
MSG_META_GCN_LIST_ADD</CODE>
 to add that object or process to the list interested in that particular change. <CODE>
MSG_META_GCN_LIST_ADD</CODE>
 finds the appropriate custom GCN list and adds the optr of the new object to the end of that list. (If no space for the list currently exists because it is empty, the message will allocate space for the list automatically.) You may add the interested optr at any time during the process' or object's life, but it is usually convenient for a process to be added in its <CODE>
MSG_GEN_PROCESS_OPEN_APPLICATION </CODE>
or for an object to be added in its <CODE>
MSG_META_ATTACH </CODE>
handler. </P>
<P>
Each optr in a GCN list should have a notification ID attached to it. The combination of a manufacturer ID and a notification type comprises an element's specific notification ID. <CODE>
MSG_META_GCN_LIST_ADD</CODE>
 must pass the optr of the object to add, along with a notification ID. For each separate notification ID, a separate GCN list is needed and will be created automatically. </P>
<P>
Geoworks has several pre-defined GCN lists of type <CODE>
GeoWorksGenAppGCNListType</CODE>
 for use by applications. You will probably have only limited use for these; these list types are used mostly by the UI controllers. For information on these types and how the various classes use them, see <A HREF="../../SysObjects/Controllers/index.htm">the Controllers chapter</A>.</P><P CLASS="figTitle">
Code Display 9-4 Adding Yourself to a Custom GCN List</P>
<PRE>@method MyProcessClass, MSG_GEN_PROCESS_OPEN_APPLICATION {</PRE>
<PRE>    @callsuper;			/* Do default MSG_GEN_PROCESS_OPEN_APPLICATION */</PRE>
<PRE>    myThread = ConstructOptr(GeodeGetProcessHandle(), NullChunk);</PRE>
<PRE>/* myThread (the process) is added to notification of TYPE_ONE changes */

    @call MyApplication::MSG_META_GCN_LIST_ADD(myThread,
	<EM>yourCompanyName</EM>_GAGCNLT_CUSTOM_LIST_TYPE_ONE,
	MANUFACTURER_ID_<EM>yourCompanyName</EM>);
}</PRE>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="GCN_7.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="GCN_8.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">4.1 Creating Types and Lists</A> 
<!-- to next --> | <A HREF="GCN_a.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">4.3 Handling Application Notification</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
