<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: MultiThread_6.htm,v 1.1 97/06/06 14:12:15 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> GEOS Threads</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">Threads and Semaphores</A>: 3.1 <A HREF="MultiThread_5.htm">GEOS Multitasking</A>: 
GEOS Threads</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="MultiThread_5.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="MultiThread_5.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">3 GEOS Multitasking</A> 
<!-- to next --> | <A HREF="MultiThread_7.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.2 Context Switches</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<P>
<A NAME="IX_Event queues">
 </A>
The various units that take turns running in the system are called &quot;threads&quot; in GEOS. Threads can have different priorities; a thread that has a higher priority (indicated by a lower priority number) will generally get more processor time.</P>

<H2 CLASS="HeadingCApp">
Keeping Track of Threads</H2>
<P>
In order to switch among threads, the system needs to keep track of certain things about each one. For each thread, the system keeps track of priority, the most recent values of the registers, and flags. The priorities are used to determine which thread is going to run next. When the thread is run, the appropriate registers are reset to the values they had the last time the thread was stopped. This allows the thread to resume execution as though it had never been interrupted. </P>
<P>
Like other things in GEOS, each thread has a handle, a sixteen-bit value which programs use to refer to the thread. When calling thread-related routines (e.g., to set the thread's priority), programs use the handle to specify the thread.</P>


<H2 CLASS="HeadingCApp">
Event-Driven and Procedural Threads</H2>
<P>
GEOS uses two different types of threads. The two types differ only in the way they run when their turn comes and in the way they are created. The discussions about priority, context switches, and synchronization elsewhere in this chapter apply equally to both types.</P>
<P>
The first type of GEOS thread is an &quot;event-driven&quot; thread. An event-driven thread normally executes code for one or more objects. Each event-driven thread has an event queue; when a message is sent to any object created by the thread, the message is placed in the thread's event queue. The thread processes each event in the order received by executing the appropriate message handler from the object's class definition.</P>
<P>
Messages can also be sent to the thread itself rather than to an object created by the thread. When the thread is created, it is assigned a class--normally a subclass of <CODE>
ProcessClass</CODE>
 (for non-application threads) or <CODE>
GenProcessClass</CODE>
 (for application threads)--to determine the handlers to use when messages are sent directly to the thread. In this sense, the thread can be considered an instance of the given class.</P>
<P>
The second type of thread is procedural. Rather than running handlers for messages in an object-oriented scheme, it simply executes procedural code. <BR>
The system does not provide an event queue for a procedural thread, and messages cannot be sent to such a thread.</P>

<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="MultiThread_5.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="MultiThread_5.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">3 GEOS Multitasking</A> 
<!-- to next --> | <A HREF="MultiThread_7.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.2 Context Switches</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
