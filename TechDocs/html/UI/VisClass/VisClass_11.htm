<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: VisClass_11.htm,v 1.1 97/06/02 16:49:15 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Creating and Destroying</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">VisClass</A>: 5.1 <A HREF="VisClass_10.htm">Working with Visible Object Trees</A>: 
<A NAME="IX_Objects:creating;Objects:destroying">
 </A>
Creating and Destroying</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="VisClass_10.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="VisClass_10.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">5 Working with Visible Object Trees</A> 
<!-- to next --> | <A HREF="VisClass_12.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">5.2 Adding and Removing</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<PRE>MSG_VIS_DESTROY</PRE>
<P>
Visible objects are just like any other objects in the ways they are created and destroyed. You can create visible objects in many ways; the easiest is to set them up in a resource and simply load or duplicate the resource block at run-time. You can also use the <CODE>
ObjInstantiate()</CODE>
 routine to instantiate new visible objects on the fly from your predefined subclass of <CODE>
VisClass</CODE>
, <CODE>
VisCompClass</CODE>
, or <CODE>
VisContentClass</CODE>
. <A HREF="../../Programming/GOCLanguage/index.htm">the GEOS Programming chapter</A> details how to instantiate a new object of a given class.</P><P>
Destroying visible objects is very simple. You only need to use the message <CODE>
MSG_VIS_DESTROY</CODE>
, which works on a visible object and all its children (if it has any). This message removes the visible branch from the screen if necessary, detaches the visible objects from the visible tree, and then destroys the object (freeing its instance chunk). The only thing the object must do is clean up after itself--in its <CODE>
MSG_META_DETACH</CODE>
 or <CODE>
MSG_META_FINAL_OBJ_FREE</CODE>
 handler, it should free any memory that it allocated explicitly for its own use, for example.</P>
<P>
<CODE>
MSG_VIS_DESTROY</CODE>
 also marks the destroyed object's parent invalid both in geometry and image so the tree will be updated properly.</P>

<H4 CLASS="RefETitle">
<A NAME="IX_MSG_VIS_DESTROY">
 </A>
<A NAME="85965">
 </A>
MSG_VIS_DESTROY</H4>
<PRE CLASS="syntax">void	MSG_VIS_DESTROY(
        VisUpdateMode updateMode);</PRE>
<P>
This message is the high level routine for destroying branches of visible trees. This message will close and destroy the entire branch, unlinking any visible objects in the branch under the recipient object. The parent of the removed branch will be marked invalid for later visual update. This message may be subclassed to replace the geometry update handling, but this is not easily done and is rare.</P>
<P CLASS="refField">
Source:	Unrestricted.</P>
<P CLASS="refField">
Destination:	Any visible object (or head of a visible branch).</P>
<P CLASS="refField">
Parameters:	<CODE>
updateMode</CODE>
	A <CODE>
VisUpdateMode</CODE>
 that determines when the visible parent of the destroyed object/branch will be updated on the screen.</P>
<P CLASS="refField">
Return:	Nothing.</P>
<P CLASS="refField">
Interception:	Unlikely--may be subclassed if the parent is not to be marked invalid. This is extremely rare.</P>

<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="VisClass_10.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="VisClass_10.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">5 Working with Visible Object Trees</A> 
<!-- to next --> | <A HREF="VisClass_12.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">5.2 Adding and Removing</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
