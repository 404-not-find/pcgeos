<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: VisClass_1e.htm,v 1.1 97/06/02 16:50:28 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> VisClass Error Checking</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="sectionTitle">
<A HREF="index.htm">VisClass</A>: 7 
VisClass Error Checking</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="index.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="VisClass_16.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">6 Visible Layers and 32-Bit Graphics</A> 
<!-- to next --> | <A HREF="VisClass_1f.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">8 Creating Specific UIs</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<PRE>MSG_VIS_VUP_EC_ENSURE_WINDOW_NOT_REFERENCED, MSG_VIS_VUP_EC_ENSURE_OBJ_BLOCK_NOT_REFERENCED, MSG_VIS_VUP_EC_ENSURE_OD_NOT_REFERENCED</PRE>
<P>
<CODE>
VisClass</CODE>
<A NAME="IX_Error checking:MSG_VIS_VUP_EC_&ldots;">
 </A>
 provides three messages you can use for special error checking. These three messages are provided especially to make sure that all objects being destroyed or removed will be destroyed cleanly. The default handlers for these messages should cause a fatal error if their criteria are not met.</P>

<H5 CLASS="RefETitle">
<A NAME="IX_MSG_VIS_VUP_EC_ENSURE_WINDOW_NOT_REFERENCED">
 </A>
MSG_VIS_VUP_EC_ENSURE_WINDOW_NOT_REFERENCED</H5>
<PRE CLASS="syntax">void	MSG_VIS_VUP_EC_ENSURE_WINDOW_NOT_REFERENCED(
        WindowHandle window);</PRE>
<P>
This message travels up the visible object tree, ensuring that the window handle passed is not stored anywhere that it might cause trouble. This message may be used when a window is being destroyed and its handle is about to be freed.</P>
<P CLASS="refField">
Source:	Unrestricted.</P>
<P CLASS="refField">
Destination:	Any visible object in the affected visible tree.</P>
<P CLASS="refField">
Parameters:	<CODE>
window</CODE>
	The handle of the window being destroyed.</P>
<P CLASS="refField">
Return:	Nothing--if it returns, no error was encountered.</P>
<P CLASS="refField">
Interception:	Do not intercept this message.</P>


<H5 CLASS="RefETitle">
<A NAME="IX_MSG_VIS_VUP_EC_ENSURE_OBJ_BLOCK_NOT_REFERENCED">
 </A>
MSG_VIS_VUP_EC_ENSURE_OBJ_BLOCK_NOT_REFERENCED</H5>
<PRE CLASS="syntax">void	MSG_VIS_VUP_EC_ENSURE_OBJ_BLOCK_NOT_REFERENCED(
        MemHandle objBlock);</PRE>
<P>
This message travels up the visible object tree, ensuring that the memory handle (the handle of an object block) passed is not stored anywhere that it might cause trouble. This message may be used just before the object block's handle is freed to ensure that no stale references will remain.</P>
<P CLASS="refField">
Source:	Unrestricted.</P>
<P CLASS="refField">
Destination:	Any visible object in the affected visible tree.</P>
<P CLASS="refField">
Parameters:	<CODE>
objBlock</CODE>
	The handle of the block being freed.</P>
<P CLASS="refField">
Return:	Nothing--if it returns, no error was encountered.</P>
<P CLASS="refField">
Interception:	Do not intercept this message.</P>


<H5 CLASS="RefETitle">
<A NAME="IX_MSG_VIS_VUP_EC_ENSURE_OD_NOT_REFERENCED">
 </A>
MSG_VIS_VUP_EC_ENSURE_OD_NOT_REFERENCED</H5>
<PRE CLASS="syntax">void	MSG_VIS_VUP_EC_ENSURE_OD_NOT_REFERENCED(
        optr	object);</PRE>
<P>
This message travels up the visible object tree, ensuring that the optr passed is not stored by any objects in the tree. This message may be sent when the object is being destroyed; any objects methods encountering a match between a stored optr and the passed optr should force a fatal error.</P>
<P CLASS="refField">
Source:	Unrestricted.</P>
<P CLASS="refField">
Destination:	Any visible object in the affected visible tree.</P>
<P CLASS="refField">
Parameters:	<CODE>
object</CODE>
	The handle of the object being destroyed.</P>
<P CLASS="refField">
Return:	Nothing--if it returns, no error was encountered.</P>
<P CLASS="refField">
Interception:	Do not intercept this message.</P>

<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="index.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="VisClass_16.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">6 Visible Layers and 32-Bit Graphics</A> 
<!-- to next --> | <A HREF="VisClass_1f.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">8 Creating Specific UIs</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
