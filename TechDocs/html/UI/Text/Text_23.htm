<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: Text_23.htm,v 1.1 97/06/02 16:43:21 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> GenText Instance Data</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">The Text Objects</A>: 6.1 <A HREF="Text_22.htm">Using GenText</A>: 
GenText Instance Data</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Text_22.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Text_22.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">6 Using GenText</A> 
<!-- to next --> | <A HREF="Text_24.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">6.2 GenText Basics</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<P>
The GenText object has several instance fields which affect the visual presentation of text. These are listed in <A HREF="Text_23.htm#81584"> GenText Instance Data</A>
.</P>
<P CLASS="figTitle">
Code Display 10-21 <A NAME="81584">
 </A>
GenText Instance Data</P>
<PRE><A NAME="IX_GTXI_&ldots;"> </A>@instance ChunkHandle				GTXI_text;
@instance word				GTXI_maxLength = 32767;
@instance GenTextAttrs				GTXI_attrs = GTA_USE_TAB_FOR_NAVIGATION;
@instance GenTextStateFlags				GTXI_stateFlags = 0;
@instance optr				GTXI_destination;
@instance word				GTXI_applyMsg = 0;</PRE>
<PRE>/* GenTextAttrs */</PRE>
<PRE>typedef ByteFlags GenTextAttrs;
#define GTA_SINGLE_LINE_TEXT					0x80
#define GTA_USE_TAB_FOR_NAVIGATION					0x40
#define GTA_INIT_SCROLLING					0x20
#define GTA_NO_WORD_WRAPPING					0x10
#define GTA_ALLOW_TEXT_OFF_END					0x08
#define GTA_TAIL_ORIENTED					0x04
#define GTA_DONT_SCROLL_TO_CHANGES					0X02</PRE>
<PRE>/* GenTextStateFlags */</PRE>
<PRE>typedef ByteFlags GenTextStateFlags
#define GTSF_INDETERMINATE					0x80
#define GTSF_MODIFIED					0x40</PRE>
<P>
GTXI_<CODE>
text</CODE>
 stores the ChunkHandle of the chunk containing the GenText's text. This chunk will be stored in the same resource as the text object. You may alter the text within this chunk with any of the previously mentioned <CODE>
VisTextClass</CODE>
 messages. See <A HREF="Text_15.htm#60374"> The Text</A>
 for a full discussion of how to manipulate and alter text.</P>
<P>
GTXI_<CODE>
maxLength</CODE>
 specifies the maximum number of character positions allowed within the GenText. By default, up to 32767 characters may appear within a GenText. If you set GTXI_<CODE>
maxLength</CODE>
 to a lower number, any characters beyond the maximum length will be ignored.</P>
<P>
GTXI_<CODE>
attrs</CODE>
 specifies the <CODE>
GenTextAttrs</CODE>
 to set for the GenText object. These attributes affect the presentation of the text.</P>
<P>
<CODE>
GTXI_stateFlags</CODE>
 specifies the <CODE>
GenTextStateFlags</CODE>
 to use with this text object. These state flags affect the modified and indeterminate states of the object.</P>
<P>
GTXI_<CODE>
applyMsg</CODE>
 sets the message for this object to send out whenever activated. In most cases, your handler for this message may then retrieve the text and perform whatever required operations on that text.</P>
<P>
GTXI_<CODE>
destination</CODE>
 sets the object or process to handle apply messages sent out by this object. <A NAME="marker=38887">
 </A>
</P>
<P CLASS="figTitle">
Code Display 10-22 GenText VarData Instance Fields</P>
<PRE>@vardata Message			ATTR_GEN_TEXT_STATUS_MSG;
@vardata void			ATTR_GEN_TEXT_SET_MODIFIED_ON_REDUNDANT_SELECTION;
@vardata void			ATTR_GEN_TEXT_SELECTABLE;
@vardata VisTextDefaultCharAttr ATTR_GEN_TEXT_DEFAULT_CHAR_ATTR;
@vardata VisTextDefaultParaAttr ATTR_GEN_TEXT_DEFAULT_PARA_ATTR;
@vardata ChunkHandle			ATTR_GEN_TEXT_CHAR_ATTR;
@vardata ChunkHandle			ATTR_GEN_TEXT_MULTIPLE_CHAR_ATTR_RUNS;
@vardata ChunkHandle			ATTR_GEN_TEXT_PARA_ATTR;
@vardata ChunkHandle			ATTR_GEN_TEXT_MULTIPLE_PARA_ATTR_RUNS;</PRE>
<PRE>@vardata word			ATTR_GEN_TEXT_EXTENDED_FILTER;</PRE>
<PRE>@vardata word			ATTR_GEN_TEXT_TYPE_RUNS;
@vardata word			ATTR_GEN_TEXT_GRAPHIC_RUNS;
@vardata word			ATTR_GEN_TEXT_REGION_ARRAY;
@vardata word			ATTR_GEN_TEXT_STYLE_ARRAY;
@vardata word			ATTR_GEN_TEXT_NAME_ARRAY;</PRE>
<PRE>@vardata optr			ATTR_GEN_TEXT_RUNS_ITEM_GROUP;
    @reloc		ATTR_GEN_TEXT_RUNS_ITEM_GROUP;</PRE>
<PRE>@vardata void			ATTR_GEN_TEXT_DO_NOT_INTERACT_WITH_SEARCH_CONTROL;
@vardata optr			ATTR_GEN_TEXT_SET_OBJECT_ENABLED_WHEN_TEXT_EXISTS;
@vardata void			ATTR_GEN_TEXT_LEGAL_DOS_PATH;
@vardata void			ATTR_GEN_TEXT_DATE;
@vardata void			ATTR_GEN_TEXT_TIME;
@vardata void			ATTR_GEN_TEXT_MAKE_UPPERCASE;
@vardata void			ATTR_GEN_TEXT_ALLOW_COLUMN_BREAKS;
@vardata void			ATTR_GEN_TEXT_UPPERCASE_ALPHA;
@vardata void			ATTR_GEN_TEXT_UPPERCASE_ALPHA_NUMERIC;
@vardata void			ATTR_GEN_TEXT_DASHED_ALPHA_NUMERIC;
@vardata void			ATTR_GEN_TEXT_NORMAL_ASCII;
@vardata void			ATTR_GEN_TEXT_LEGAL_DOS_VOLUME_NAMES;
@vardata void			ATTR_GEN_TEXT_DOS_CHARACTER_SET;
@vardata void			ATTR_GEN_TEXT_NO_SPACES;
@vardata void			ATTR_GEN_TEXT_ALLOW_SPACES;
@vardata void			ATTR_GEN_TEXT_ALPHA;
@vardata void			ATTR_GEN_TEXT_NUMERIC;
@vardata void			ATTR_GEN_TEXT_SIGNED_NUMERIC;
@vardata void			ATTR_GEN_TEXT_SIGNED_DECIMAL;
@vardata void			ATTR_GEN_TEXT_FLOAT_DECIMAL;
@vardata void			ATTR_GEN_TEXT_ALPHA_NUMERIC;
@vardata void			ATTR_GEN_TEXT_LEGAL_FILENAMES;
@vardata void			ATTR_GEN_TEXT_LEGAL_DOS_FILENAMES;
@vardata void			ATTR_GEN_TEXT_NEVER_MAKE_SCROLLABLE;
@vardata void			ATTR_GEN_TEXT_DOES_NOT_ACCEPT_INK;
@vardata void			ATTR_GEN_TEXT_CURSOR_NO_FOCUS;
@vardata ChunkHandle			ATTR_GEN_TEXT_CUSTOM_FILTER;</PRE>
<P>
ATTR_GEN_TEXT_STATUS_MSG sets a status message for this GenText. A status message allows the GenText to send notification other than its apply message.<A NAME="IX_ATTR_GEN_TEXT_STATUS_MSG">
 </A>
</P>
<P>
<CODE>
ATTR_GEN_TEXT_SET_MODIFIED_ON_REDUNDANT_SELECTION</CODE>
<A NAME="IX_ATTR_GEN_TEXT_SET_MODIFIED_ON_REDUNDANT_SELECTION">
 </A>
 sets the text dirty (modified) on any modification, even if it does not change the text or the text's attributes.</P>
<P>
ATTR_GEN_TEXT_SELECTABLE<A NAME="IX_ATTR_GEN_TEXT_SELECTABLE">
 </A>
 should be set if text should be selectable whether or not the text is editable. By default non-editable text is not selectable. Editable text is always selectable.</P>
<P>
ATTR_GEN_TEXT_DEFAULT_CHAR_ATTR<A NAME="IX_ATTR_GEN_TEXT_DEFAULT_CHAR_ATTR">
 </A>
 stores singular default character attributes of type <CODE>
VisTextDefaultCharAttr</CODE>
 in a word-length record. ATTR_GEN_TEXT_DEFAULT_PARA_ATTR<A NAME="IX_ATTR_GEN_TEXT_DEFAULT_PARA_ATTR">
 </A>
 stores singular default paragraph attributes of type <CODE>
VisTextDefaultParaAttr</CODE>
 in a word-length record.</P>
<P>
ATTR_GEN_TEXT_CHAR_ATTR<A NAME="IX_ATTR_GEN_TEXT_CHAR_ATTR">
 </A>
 stores the singular character attributes for the text object. This vardata field stores the ChunkHandle to a single <CODE>
VisTextCharAttr</CODE>
 structure.</P>
<P>
ATTR_GEN_TEXT_MULTIPLE_CHAR_ATTR_RUNS<A NAME="IX_ATTR_GEN_TEXT_MULTIPLE_CHAR_ATTR_RUNS">
 </A>
 stores the multiple character attributes for the text object. This vardata field will store the ChunkHandle to a chunk array of character style runs (each of type <CODE>
VisTextCharAttr</CODE>
). See <A HREF="Text_17.htm#91955"> Character Runs</A>
.</P>
<P>
ATTR_GEN_TEXT_PARA_ATTR<A NAME="IX_ATTR_GEN_TEXT_PARA_ATTR">
 </A>
 stores the singular paragraph attributes for the text object. This vardata field stores the ChunkHandle to a single <CODE>
VisTextParaAttr</CODE>
 structure.</P>
<P>
ATTR_GEN_TEXT_MULTIPLE_PARA_ATTR_RUNS<A NAME="IX_ATTR_GEN_TEXT_MULTIPLE_PARA_ATTR_RUNS">
 </A>
 stores the multiple paragraph attributes for the text object. This vardata field will store the ChunkHandle to a chunk array of paragraph style runs (each of type <CODE>
VisTextParaAttr</CODE>
). See <A HREF="Text_18.htm#59559"> Paragraph Runs</A>
.</P>
<P>
ATTR_GEN_TEXT_EXTENDED_FILTER<A NAME="IX_ATTR_GEN_TEXT_EXTENDED_FILTER">
 </A>
 stores the <CODE>
VisTextExtendedFilterTypes</CODE>
 to use instead of the default <CODE>
VisTextFilters</CODE>
. Extended filters offer more powerful (and complex) filtering mechanisms for accepting and rejecting text into the GenText.</P>
<P>
ATTR_GEN_TEXT_TYPE_RUNS<A NAME="IX_ATTR_GEN_TEXT_TYPE_RUNS">
 </A>
 specifies the type runs for this text object. You should not need type runs unless you need hyperlink capabilities. ATTR_GEN_TEXT_GRAPHIC_RUNS<A NAME="IX_ATTR_GEN_TEXT_GRAPHIC_RUNS">
 </A>
 specifies a graphics run to use within the text object.</P>
<P>
ATTR_GEN_TEXT_REGION_ARRAY<A NAME="IX_ATTR_GEN_TEXT_REGION_ARRAY">
 </A>
 specifies the array of regions defined for this text object. Text within the GenText will flow from each of the defined regions to the next region.<A NAME="IX_ATTR_GEN_TEXT_STYLE_ARRAY">
 </A>
 ATTR_GEN_TEXT_STYLE_ARRAY specifies the name array of styles used in the GenText's style sheets.</P>
<P>
<CODE>
ATTR_GEN_TEXT_RUNS_ITEM_GROUP</CODE>
<A NAME="IX_ATTR_GEN_TEXT_RUNS_ITEM_GROUP">
 </A>
 indicates that this text object is linked to an item group (list). When the user hits Return (or the equivalent), the text object sends a message to the item group; similarly, the item group will attempt to update the text object on changes.</P>
<P>
<CODE>
ATTR_GEN_TEXT_DO_NOT_INTERACT_WITH_SEARCH_CONTROL</CODE>
<A NAME="IX_ATTR_GEN_TEXT_DO_NOT_INTERACT_WITH_SEARCH_CONTROL">
 </A>
 indicates that the text object should not send notification to the search control object.</P>
<P>
<CODE>
ATTR_GEN_TEXT_SET_OBJECT_ENABLED_WHEN_TEXT_EXISTS</CODE>
<A NAME="IX_ATTR_GEN_TEXT_SET_OBJECT_ENABLED_WHEN_TEXT_EXISTS">
 </A>
 makes the specified object enabled any time the GenText object has text in it.</P>
<P>
<CODE>
ATTR_GEN_TEXT_LEGAL_DOS_PATH</CODE>
<A NAME="IX_ATTR_GEN_TEXT_LEGAL_DOS_PATH">
 </A>
 makes sure that only legal DOS paths are used.</P>
<P>
<CODE>
ATTR_GEN_TEXT_DATE</CODE>
<A NAME="IX_ATTR_GEN_TEXT_DATE">
 </A>
 and <A NAME="IX_ATTR_GEN_TEXT_TIME">
 </A>
<CODE>
ATTR_GEN_TEXT_TIME</CODE>
 allows short date and time characters and spaces; the text object will be affected by the localization driver.</P>
<P>
ATTR_GEN_TEXT_MAKE_UPPERCASE<A NAME="IX_ATTR_GEN_TEXT_MAKE_UPPERCASE">
 </A>
 indicates that in addition to any other filters, any alphabetic characters are forced into uppercase.</P>
<P>
ATTR_GEN_TEXT_ALLOW_COLUMN_BREAKS<A NAME="IX_ATTR_GEN_TEXT_ALLOW_COLUMN_BREAKS">
 </A>
 allows all characters including column breaks. Column breaks are normally filtered out in a GenText object. The column breaks usually will appear as new lines (like carriage returns) in the text object.</P>
<P>
<CODE>
ATTR_GEN_TEXT_UPPERCASE_ALPHA</CODE>
<A NAME="IX_ATTR_GEN_TEXT_UPPERCASE_ALPHA">
 </A>
 allows alphabetic characters and spaces. <A NAME="IX_ATTR_GEN_TEXT_UPPERCASE_ALPHA_NUMERIC">
 </A>
<CODE>
ATTR_GEN_TEXT_UPPERCASE_ALPHA_NUMERIC</CODE>
, an allows only uppercase alphabetic characters and spaces. <CODE>
ATTR_GEN_TEXT_DASHED_ALPHA_NUMERIC</CODE>
<A NAME="IX_ATTR_GEN_TEXT_DASHED_ALPHA_NUMERIC">
 </A>
 allows only uppercase alphabetic characters and spaces but also allows dashes.</P>
<P>
<CODE>
ATTR_GEN_TEXT_NORMAL_ASCII</CODE>
<A NAME="IX_ATTR_GEN_TEXT_NORMAL_ASCII">
 </A>
 allows only normal ASCII characters (no extended ASCII characters).</P>
<P>
<CODE>
ATTR_GEN_TEXT_LEGAL_DOS_VOLUME_NAMES</CODE>
<A NAME="IX_ATTR_GEN_TEXT_LEGAL_DOS_VOLUME_NAMES">
 </A>
 allows only characters that may appear in a legal DOS volume name.</P>
<P>
<CODE>
ATTR_GEN_TEXT_DOS_CHARACTER_SET</CODE>
<A NAME="IX_ATTR_GEN_TEXT_DOS_CHARACTER_SET">
 </A>
 allows only characters in the legal DOS character set.</P>
<P>
<CODE>
ATTR_GEN_TEXT_NO_SPACES</CODE>
<A NAME="IX_ATTR_GEN_TEXT_NO_SPACES">
 </A>
 and <A NAME="IX_ATTR_GEN_TEXT_ALLOW_SPACES">
 </A>
<CODE>
ATTR_GEN_TEXT_ALLOW_SPACES</CODE>
 govern whether spaces are allowed in the text object.</P>
<P>
<CODE>
ATTR_GEN_TEXT_ALPHA</CODE>
<A NAME="IX_ATTR_GEN_TEXT_ALPHA">
 </A>
, <A NAME="IX_ATTR_GEN_TEXT_NUMERIC">
 </A>
<CODE>
ATTR_GEN_TEXT_NUMERIC</CODE>
, <CODE>
ATTR_GEN_TEXT_SIGNED_NUMERIC</CODE>
<A NAME="IX_ATTR_GEN_TEXT_SIGNED_NUMERIC">
 </A>
, <A NAME="IX_ATTR_GEN_TEXT_SIGNED_DECIMAL">
 </A>
<CODE>
ATTR_GEN_TEXT_SIGNED_DECIMAL</CODE>
, <CODE>
ATTR_GEN_TEXT_FLOAT_DECIMAL</CODE>
<A NAME="IX_ATTR_GEN_TEXT_FLOAT_DECIMAL">
 </A>
, and <CODE>
ATTR_GEN_TEXT_ALPHA_NUMERIC</CODE>
<A NAME="IX_ATTR_GEN_TEXT_ALPHA_NUMERIC">
 </A>
 govern the character types allowed.</P>
<P>
<CODE>
ATTR_GEN_TEXT_LEGAL_FILENAMES</CODE>
<A NAME="IX_ATTR_GEN_TEXT_LEGAL_FILENAMES">
 </A>
 allows any characters legal to file names.</P>
<P>
ATTR_GEN_TEXT_NEVER_MAKE_SCROLLABLE<A NAME="IX_ATTR_GEN_TEXT_NEVER_MAKE_SCROLLABLE">
 </A>
 forces the text object to expand larger as the text grows without forcing it into scrollable text.</P>
<P>
ATTR_GEN_TEXT_DOES_NOT_ACCEPT_INK<A NAME="IX_ATTR_GEN_TEXT_DOES_NOT_ACCEPT_INK">
 </A>
 indicates that this text object will not accept ink under any circumstances.</P>
<P>
ATTR_GEN_TEXT_CURSOR_NO_FOCUS<A NAME="IX_ATTR_GEN_TEXT_CURSOR_NO_FOCUS">
 </A>
 causes the text object to have a cursor whether it has the focus or not.</P>
<P>
ATTR_GEN_TEXT_CUSTOM_FILTER<A NAME="IX_ATTR_GEN_TEXT_CUSTOM_FILTER">
 </A>
 contains the ChunkHandle of an array of <CODE>
VisTextCustomFilterData</CODE>
 structures. Each of these structures contains a range of character <EM>
values</EM>
 to filter out. These values are determined from the <CODE>
Chars</CODE>
 enumerated type. The text object figures out the number of filters in place by getting the size of the chunk.</P>
<P CLASS="figTitle">
Code Display 10-23 GenText Hints</P>
<PRE>@vardata ColorQuad			<A NAME="IX_HINT_TEXT_&ldots;"> </A>HINT_TEXT_WASH_COLOR
@vardata void			HINT_TEXT_WHITE_WASH_COLOR;
@vardata void			HINT_TEXT_AUTO_HYPHENATE;
@vardata void			HINT_TEXT_SELECT_TEXT;
@vardata void			HINT_TEXT_CURSOR_AT_START;
@vardata void			HINT_TEXT_CURSOR_AT_END;
@vardata void			HINT_TEXT_FRAME;
@vardata void			HINT_TEXT_NO_FRAME;
@vardata void			HINT_TEXT_ALLOW_UNDO;
@vardata void			HINT_TEXT_ALLOW_SMART_QUOTES;
@vardata void			HINT_TEXT_DO_NOT_MAKE_LARGER_ON_PEN_SYSTEMS;</PRE>
<P>
HINT_TEXT_WASH_COLOR indicates the background color for the GenText to exhibit. This hint takes a <CODE>
ColorQuad</CODE>
 argument.</P>
<P>
HINT_TEXT_WHITE_WASH_COLOR indicates the background color of the GenText should be white.</P>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Text_22.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Text_22.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">6 Using GenText</A> 
<!-- to next --> | <A HREF="Text_24.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">6.2 GenText Basics</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
