<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: Localization_8.htm,v 1.2 97/09/05 13:49:31 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Dates and Times</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">Localization</A>: 4.4 <A HREF="Localization_4.htm">International Formats</A>: 
Dates and Times</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Localization_4.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Localization_7.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">4.3 Quotation Marks</A> 
<!-- to next --> | <A HREF="Localization_9.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">4.5 Filters for Formats</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<PRE>LocalFormatDateTime(), LocalParseDateTime(),
LocalGetDateTimeFormat(), LocalSetDateTimeFormat(),
LocalCustomFormatDateTime(), LocalCustomParseDateTime(), LocalCalcDaysInMonth(), LocalFormatFileDateTime()</PRE>
<P>
<CODE>
LocalFormatDateTime()</CODE>
<A NAME="IX_Date:formatting">
 </A>
<A NAME="IX_Time:formatting">
 </A>
<A NAME="IX_LocalFormatDateTime()">
 </A>
 and <A NAME="IX_LocalParseDateTime()">
 </A>
<CODE>
LocalParseDateTime()</CODE>
 allow display and parsing of date and time strings in a variety of formats. Passed the appropriate data, <CODE>
LocalFormatDateTime()</CODE>
 will return a string with the data appropriately formatted. <CODE>
LocalParseDateTime()</CODE>
 performs the reverse function, reading a string and attempting to extract information from it. The strings these functions use should be long enough to hold a formatted date or time. The predefined constant DATE_TIME_BUFFER_SIZE is the minimum recommended number of characters for one of these strings.
<IMG SRC="Localization_8_DateTimeFormat.gif">

</P>
<P>
Localization functions use <A NAME="IX_DateTimeFormat">
 </A>
<CODE>
DateTimeFormat</CODE>
s to keep track of what sort of format is desired. If told to parse &quot;5:28&quot; as hours and minutes, <CODE>
LocalParseDateTime()</CODE>
 will (depending on the user's time format preferences) return 5 in the hours place and 28 in the minutes place. If told to parse &quot;5/28&quot; as hours and minutes, <CODE>
LocalParseDateTime()</CODE>
 would return an error. There are a variety of <CODE>
DateTimeFormats()</CODE>
 to choose from, and you should decide which format to use based on what information you want your application to display or read.</P>
<P>
Each <CODE>
DateTimeFormat</CODE>
 has a string associated with it that contains formatting information. This string consists of the characters of the format, with place-holding tokens for the fields of the date or time. These tokens are delimited by the special character &quot;|&quot;. For example, the date/time format string &quot;|HH|:|mm| |ap|&quot; would correspond to the formatted string &quot;10:37 am&quot;. The string for each <CODE>
DateTimeFormat</CODE>
 can be accessed or altered with the <A NAME="IX_LocalGetDateTimeFormat()">
 </A>
<CODE>
LocalGetDateTimeFormat()</CODE>
 and <A NAME="IX_LocalSetDateTimeFormat()">
 </A>
<CODE>
LocalSetDateTimeFormat()</CODE>
 commands. The recommended minimum size of a date/time format string is the constant DATE_TIME_FORMAT_SIZE.
<IMG SRC="Localization_8_DateTimeFormatString.gif">

</P>
<P>
If you don't wish to work through one of the standard <CODE>
DateTimeFormat</CODE>
 values, you can construct a string containing some date/time tokens and pass it as an argument to <A NAME="IX_LocalCustomFormatDateTime()">
 </A>
<CODE>
LocalCustomFormatDateTime()</CODE>
, along with the appropriate date and time information. To parse a date/time using a custom format, use <A NAME="IX_LocalCustomParseDateTime()">
 </A>
<CODE>
LocalCustomParseDateTime()</CODE>
.</P>
<P>
The <A NAME="IX_Files:Formatting Date Strings">
 </A>
<A NAME="IX_LocalFormatFileDateTime()">
 </A>
<CODE>
LocalFormatFileDateTime()</CODE>
 utility routine works in the same way as <CODE>
LocalFormatDateTime()</CODE>
, except it takes a <A NAME="IX_FileDateAndTime:Printing">
 </A>
<CODE>
FileDateAndTime</CODE>
 argument. It is normally used to format the information returned by <CODE>
FileGetDateAndTime()</CODE>
 or <CODE>
TimerGetFileDateTime()</CODE>
.</P>
<P>
The <A NAME="IX_LocalCalcDaysInMonth()">
 </A>
<CODE>
LocalCalcDaysInMonth()</CODE>
 utility routine takes a month number and returns the number of days in that month.

</P>
<P>
A number of constants have been set up to aid in the computation of the size of string necessary to hold a date/time or a date/time format string. These constants are <A NAME="IX_DATE_TIME_BUFFER_SIZE">
 </A>
DATE_TIME_BUFFER_SIZE, <A NAME="IX_DATE_TIME_FORMAT_SIZE">
 </A>
DATE_TIME_FORMAT_SIZE, MAX_MONTH_LENGTH<A NAME="IX_MAX_MONTH_LENGTH">
 </A>
, <A NAME="IX_MAX_DAY_LENGTH">
 </A>
MAX_DAY_LENGTH, <A NAME="IX_MAX_YEAR_LENGTH">
 </A>
MAX_YEAR_LENGTH, MAX_WEEKDAY_LENGTH<A NAME="IX_MAX_WEEKDAY_LENGTH">
 </A>
, <A NAME="IX_MAX_SEPARATOR_LENGTH">
 </A>
MAX_SEPARATOR_LENGTH, and TOKEN_LENGTH<A NAME="IX_TOKEN_LENGTH">
 </A>
.</P>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Localization_4.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Localization_7.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">4.3 Quotation Marks</A> 
<!-- to next --> | <A HREF="Localization_9.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">4.5 Filters for Formats</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
