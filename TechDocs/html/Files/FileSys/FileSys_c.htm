<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: FileSys_c.htm,v 1.1 97/06/02 14:46:19 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Files and File Handles</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">The File System</A>: 5.2 <A HREF="FileSys_a.htm">Files</A>: 
<A NAME="70676">
 </A>
Files and File Handles</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="FileSys_a.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="FileSys_b.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">5.1 DOS Files and GEOS Files</A> 
<!-- to next --> | <A HREF="FileSys_d.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">5.3 GEOS Extended Attributes</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<PRE>FileDuplicateHandle()</PRE>
<P>
In order to read or change a file, you must <EM>
open</EM>
 it with an appropriate routine. When you open a file, the file system sees to it that the file will not be erased or moved until you close it. When a geode exits, all files it has open are automatically closed. When GEOS exits, all files are closed. If an application restarts from a saved state, it will have to reopen all files.</P>
<P>
When you open a file, the GEOS file system returns a <EM>
file handle</EM>
. This is a global handle associated with that file. Whenever you need to perform an action on a file you have opened, you specify the file by passing its handle. Note that there may be several handles which all refer to the same file. If more than one thread will need to use the same handle, they may synchronize their access by using <CODE>
HandleP()</CODE>
 and <CODE>
HandleV()</CODE>
; for details, see <A HREF="../../Memory/Heap/Memory_b.htm#68631">the Memory Management chapter</A>. The Virtual Memory routines include data-access synchronization routines for use with VM files; for details, see <A HREF="../../Memory/VM/index.htm">the VM chapter</A>.</P><P>
<A NAME="IX_FileDuplicateHandle()">
 </A>
It is sometimes useful to have two different handles which indicate the same file. GEOS provides the routine <CODE>
FileDuplicateHandle()</CODE>
. This routine takes one argument, namely the handle of an open file. It creates and returns another handle which indicates the same file. You will have to close both handles to close the file. <CODE>
FileDuplicateHandle()</CODE>
 works on any type of file handle; that is, it can be used on the handles of DOS files, GEOS byte files, or VM files. Note that the duplicate handle will have the same read/write position as the original.</P>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="FileSys_a.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="FileSys_b.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">5.1 DOS Files and GEOS Files</A> 
<!-- to next --> | <A HREF="FileSys_d.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">5.3 GEOS Extended Attributes</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
