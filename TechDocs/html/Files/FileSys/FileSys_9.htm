<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: FileSys_9.htm,v 1.1 97/06/02 14:45:53 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Creating and Deleting Directories</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">The File System</A>: 4.3 <A HREF="FileSys_6.htm">Directories and Paths</A>: 
<A NAME="19109">
 </A>
Creating and Deleting Directories</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="FileSys_6.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="FileSys_8.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">4.2 Current Path and Directory Stack</A> 
<!-- to next --> | <A HREF="FileSys_a.htm"><IMG SRC="../../docImages/nextUp.gif" BORDER="0" ALT="Next: ">5 Files</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<PRE>FileCreateDir(), FileDeleteDir()</PRE>
<P>
<A NAME="IX_FileCreateDir()">
 </A>
You can create directories with <CODE>
FileCreateDir()</CODE>
. The routine takes a single argument, namely the address of a character string. If the string is simply a directory name, it will attempt to create that directory at the current location. If the string is a relative path, it will create the directory at the end of the path, if possible. For example, passing the string &quot;Memos\September&quot; will cause it to check if there is a directory called &quot;Memos&quot; at the current location. If there is, it will create the directory &quot;September&quot; inside the directory &quot;Memos&quot;. If the string is an absolute path (i.e. there is a backslash before the first directory name), it will behave the same way, but it will start with the root directory. The routine returns zero if it was successful. If it was unsuccessful, it will return one of the following error codes:</P>
<DL>
<DT>
ERROR_INVALID_NAME</DT><DD>
The name passed was inappropriate for directories on that device.</DD>
<DT>
ERROR_PATH_TOO_LONG</DT><DD>
The path string was longer than is permitted by the file system for that device.</DD>
<DT>
ERROR_FILE_EXISTS</DT><DD>
A file or directory with the specified name already exists at the specified location.</DD>
<DT>
ERROR_PATH_NOT_FOUND</DT><DD>
The path string was in some way invalid; for example, it might have instructed <CODE>
FileCreateDir()</CODE>
 to create the directory inside of a directory which does not exist.</DD>
<DT>
ERROR_ACCESS_DENIED</DT><DD>
The thread is not able to create directories in the specified location.</DD>
<DT>
ERROR_DISK_STALE	</DT><DD>
The drive that disk was on has been removed.</DD>
<DT>
ERROR_DISK_UNAVAILABLE</DT><DD>
The validation of the disk in that drive was aborted by the user.</DD>
<DT>
ERROR_WRITE_PROTECTED</DT><DD>
The volume is write-protected.</DD>
</DL>
<P>
Note that the directory name can be any acceptable GEOS file name; that is, it may be up to 32 characters long and can contain any characters other than backslashes, colons, asterisks, or question marks. For further information about GEOS file names, see <A HREF="FileSys_b.htm#43815"> DOS Files and GEOS Files</A>
.</P>
<P>
<A NAME="IX_FileDeleteDir()">
 </A>
You can delete directories with <CODE>
FileDeleteDir()</CODE>
. This routine takes a single argument, namely the address of a character string. This string can specify a relative or absolute path, as with <CODE>
FileCreateDir()</CODE>
. It attempts to delete the directory specified. (Note that you are not allowed to delete your current directory or a non-empty directory.) If it successfully removes the directory, it returns zero. Otherwise, it returns one of the following members of the <CODE>
FileError</CODE>
 type:</P>
<DL>
<DT>
ERROR_PATH_NOT_FOUND</DT><DD>
The directory specified could not be found or does not exist.</DD>
<DT>
ERROR_IS_CURRENT_DIRECTORY</DT><DD>
This directory is some thread's current directory, or else it is on some thread's directory stack. Note that you cannot delete your own working directory.</DD>
<DT>
ERROR_ACCESS_DENIED</DT><DD>
The calling thread does not have permission to delete the directory. This is also returned if the directory was on a read-only device.</DD>
<DT>
ERROR_DIRECTORY_NOT_EMPTY</DT><DD>
The directory specified is not empty. Delete all the files before you attempt to delete the directory.</DD>
<DT>
ERROR_DISK_STALE	</DT><DD>
The drive that disk was on has been removed.</DD>
<DT>
ERROR_DISK_UNAVAILABLE</DT><DD>
The validation of the disk in that drive was aborted by the user.</DD>
</DL>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="FileSys_6.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="FileSys_8.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">4.2 Current Path and Directory Stack</A> 
<!-- to next --> | <A HREF="FileSys_a.htm"><IMG SRC="../../docImages/nextUp.gif" BORDER="0" ALT="Next: ">5 Files</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
