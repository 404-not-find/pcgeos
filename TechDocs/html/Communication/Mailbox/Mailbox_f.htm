<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: Mailbox_f.htm,v 1.1 97/06/02 14:11:19 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Data Drivers</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="sectionTitle">
<A HREF="index.htm">The Mailbox Library</A>: 5 
Data Drivers</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="index.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Mailbox_6.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">4 Data Formats</A> 
<!-- to next --> | <A HREF="Mailbox_10.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">6 Application Responsibilities</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<P>
A data driver specifies how the data in a transmitted message is arranged. An application that sends a message must provide it in the format required by the data driver. The data driver then translates the message into an appropriate format for the transport driver. When the transport driver receives a message, it determines which data driver can interpret the message, and then calls theMailbox library.</P>
<P>
There are a number of default GEOS data types, and developers may write other data drivers of their own to support new data types.</P>
<P>
A data driver has to perform a few different tasks:</P>
<UL>
<LI>
When an application sends a message, the Mailbox library hands the message to the data driver. If the message-data is volatile, the data driver must copy the message's data to a safe place, so the application can free the storage it used to create the message. It gives the Mailbox library an opaque token to identify the message; the mailbox library will use this token when it requests the message for delivery.</LI>
<LI>
When the Mailbox library requests it, it must provide message data (one &quot;block&quot; at a time) in a format appropriate for the transport driver.</LI>
<LI>
When the Mailbox library receives a message in the driver's format, it must be able to handle data, one &quot;block&quot; at a time, provided by the transport driver in that driver's format; it must be able to assemble this into a message in the data driver's format. (As when transmitting a message, the data driver will give the Mailbox library an opaque token to identify this message.)</LI>
<LI>
When it delivers a message, it must provide a reference to the received message in a format the receiving application will be able to understand.</LI>
<LI>
The data driver must be able to provide, on request, the size of any message (outgoing or incoming) it's holding.</LI>
<LI>
When the Mailbox library informs the data driver that a message has been handled (i.e. an outgoing message has been transmitted, or an incoming message has been deleted by the destination application), the data driver must free its copy of the message, reclaiming the space that message was using.</LI>
</UL>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="index.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Mailbox_6.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">4 Data Formats</A> 
<!-- to next --> | <A HREF="Mailbox_10.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">6 Application Responsibilities</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
