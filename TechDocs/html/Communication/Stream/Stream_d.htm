<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: Stream_d.htm,v 1.1 97/06/02 14:16:54 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Initializing a Parallel Port</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">Using Streams</A>: 3.1 <A HREF="Stream_c.htm">Using the Parallel Ports</A>: 
Initializing a Parallel Port</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Stream_c.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Stream_c.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">3 Using the Parallel Ports</A> 
<!-- to next --> | <A HREF="Stream_e.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.2 Communicating</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<PRE>ParallelOpen()</PRE>
<P>
<A NAME="IX_ParallelOpen()">
 </A>
<A NAME="IX_DR_STREAM_OPEN:with serial port">
 </A>
To open a parallel port, call the routine <CODE>
ParallelOpen()</CODE>
. This routine is passed the following arguments:</P>
<UL>
<LI>
The <CODE>
GeodeHandle</CODE>
 of the parallel-port driver.</LI>
<LI>
A member of the <CODE>
ParallelUnit</CODE>
 enumerated type; this specifies which parallel port is being opened. The type's members are PARALLEL_LPT1, PARALLEL_LPT2, PARALLEL_LPT3, and PARALLEL_COM4.</LI>
<LI>
A member of the <CODE>
StreamOpenFlags </CODE>
enumerated type, indicating what to do if the requested parallel port is busy (either STREAM_OPEN_NO_BLOCK, indicating that the routine should return an error immediately; or STREAM_OPEN_TIMEOUT, indicating that the routine should wait a specified number of clock ticks to see if the port will free up).</LI>
<LI>
The unit number of the parallel port in question--this is a value of type <CODE>
ParallelPortNums</CODE>
.</LI>
<LI>
The total size of the stream to be used as an output buffer, in bytes.</LI>
<LI>
The maximum number of ticks to wait for the parallel port to become available (if STREAM_OPEN_TIMEOUT was passed).</LI>
</UL>
<P>
<A NAME="IX_StreamError:with ParallelOpen()">
 </A>
A flag is returned to indicate whether the parallel port could be opened; if not, a value of type <CODE>
StreamError</CODE>
 will be returned to indicate the reason. Possible stream error values are STREAM_BUFFER_TOO_LARGE and STREAM_CANNOT_CREATE, and the additional values STREAM_NO_DEVICE (if the parallel port does not exist) or STREAM_DEVICE_IN_USE (if the device is busy and the <CODE>
StreamOpenFlags</CODE>
 passed indicate not to wait (or not to wait any longer)).</P>
<P>
Note that when using the parallel driver, you do not identify the stream by a stream token but rather by the parallel port number, known as a <EM>
unit number</EM>
. When accessing a parallel port, you simply pass the port's unit number along with either STREAM_READ (if reading from the stream) or STREAM_WRITE (if writing to the stream); because each port has two streams associated with it, you must specify both parameters. The parallel driver will understand which stream you are accessing.</P>
<P>
Once the port is selected, the PC will assert the SLCTIN signal, which usually will place the device on-line.</P>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Stream_c.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Stream_c.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">3 Using the Parallel Ports</A> 
<!-- to next --> | <A HREF="Stream_e.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.2 Communicating</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
