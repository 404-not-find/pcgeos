<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: Stream_4.htm,v 1.1 97/06/02 14:16:14 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Writing Data to a Stream</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">Using Streams</A>: 1.3 <A HREF="Stream_1.htm">Using Streams: The Basics</A>: 
<A NAME="14551">
 </A>
Writing Data to a Stream</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Stream_1.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Stream_3.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">1.2 Blocking on Read or Write</A> 
<!-- to next --> | <A HREF="Stream_5.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">1.4 Reading Data from a Stream</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<PRE>StreamWrite(), StreamWriteByte()</PRE>
<P>
<A NAME="IX_StreamWrite()">
 </A>
To write data into a stream, call the routine <CODE>
StreamWrite()</CODE>
. This routine takes six arguments:</P>
<UL>
<LI>
The <CODE>
GeodeHandle</CODE>
 of the stream driver.</LI>
<LI>
<A NAME="IX_StreamToken:with StreamWrite()">
 </A>
The <CODE>
StreamToken</CODE>
 of the stream.</LI>
<LI>
A member of the <CODE>
StreamBlocker</CODE>
 enumerated type, as described in <A HREF="Stream_3.htm#22136"> Blocking on Read or Write</A>
.</LI>
<LI>
The amount of data to be written, in bytes.</LI>
<LI>
A pointer to a data buffer; the data will be copied from that buffer to the stream.</LI>
<LI>
A pointer to an integer. <CODE>
StreamWrite()</CODE>
 will write the number of bytes actually copied to that integer.</LI>
</UL>
<P>
<A NAME="IX_StreamError:with StreamWrite()">
 </A>
If all the data was written successfully, <CODE>
StreamWrite()</CODE>
 will return zero and write the number of bytes written (i.e. the size of the data buffer passed) to the integer pointed to by the sixth argument. If it could not successfully write all the data, it will return one of the following <CODE>
StreamError</CODE>
 values:</P>
<DL>
<DT>
STREAM_WOULD_BLOCK</DT><DD>
STREAM_NO_BLOCK had been passed, and there was no room to write any data to the stream. The sixth argument will be set to zero.</DD>
<DT>
STREAM_SHORT_READ_WRITE</DT><DD>
If STREAM_NOBLOCK had been passed, this means there was not enough room to write all the data. If STREAM_BLOCK had been passed, this means the stream was closed before all the data could be written. The sixth argument will contain the number of bytes actually written to the stream.</DD>
<DT>
STREAM_CLOSING</DT><DD>
The stream is in the process of being closed; no writing is permitted while this is happening. The sixth argument will be set to zero.</DD>
<DT>
STREAM_CLOSED</DT><DD>
The stream has already been closed. The sixth argument will be set to zero.</DD>
</DL>
<P>
<A NAME="IX_StreamWriteByte()">
 </A>
You may often want to write a single byte to the stream. There is a special routine to do this, <CODE>
StreamWriteByte()</CODE>
. This routine takes four arguments:</P>
<UL>
<LI>
The <CODE>
GeodeHandle</CODE>
 of the stream driver.</LI>
<LI>
The <CODE>
StreamToken</CODE>
 of the stream.</LI>
<LI>
A member of the <CODE>
StreamBlocker</CODE>
 enumerated type, as described in <A HREF="Stream_3.htm#22136"> Blocking on Read or Write</A>
.</LI>
<LI>
The byte to be written.</LI>
</UL>
<P>
If the byte is written successfully, <CODE>
StreamWriteByte()</CODE>
 will return zero. Otherwise, it will return one of the following error values:</P>
<DL>
<DT>
STREAM_WOULD_BLOCK</DT><DD>
STREAM_BLOCK had been passed, and there was no room to write any data to the stream.</DD>
<DT>
STREAM_CLOSING</DT><DD>
The stream is in the process of being closed; no writing is permitted while this is happening.</DD>
<DT>
STREAM_CLOSED</DT><DD>
The stream has already been closed.</DD>
</DL>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Stream_1.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Stream_3.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">1.2 Blocking on Read or Write</A> 
<!-- to next --> | <A HREF="Stream_5.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">1.4 Reading Data from a Stream</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
