<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<!-- This page was automatically generated from a bunch of smaller pages. -->
<META NAME="copyright" CONTENT="Copyright GEOWORKS">
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">
<TITLE>Installing the SDK</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffdf">
This document is a single-page version of a <A HREF="index.htm">a multi-page document</A>, suitable for easy printing.
<A NAME="index.htm"></A>


<H1 CLASS="chapterTitle">

<A NAME="index.htm_97933">
 </A>
Installing the SDK
</H1>
<P>
Welcome to GEOS development. This document guides you through the CD-ROM installation procedure; it also describes your environment configuration, shows how to set up multiple NT machines, and lists the most common setup difficulties in a short troubleshooting guide.</P>
<P>
If you are familiar with GEOS development, please review the SDK changes described in <A HREF="#NT-Tools_9.htm_64845"> Compiling GEOS Applications</A>
, and <A HREF="#NT-Tools_b.htm_58676"> Directory Structure</A>
, before you begin compiling and debugging geodes.</P>
<P>
You can find complete information on the tools mentioned here (Swat, pmake, etc.) in the Tools book.</P>
<P CLASS="sectionLinks"><STRONG CLASS="sectionLinks">
&nbsp;&nbsp;<A HREF="#NT-Tools_1.htm">1 System Requirements</A><BR>
&nbsp;&nbsp;<A HREF="#NT-Tools_2.htm">2 Installation and Setup</A><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#NT-Tools_3.htm">2.1 Installation Details</A><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#NT-Tools_4.htm">2.2 NT Configuration</A><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#NT-Tools_5.htm">2.3 Environment Configuration</A><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#NT-Tools_6.htm">2.4 Registry Configuration</A><BR>
&nbsp;&nbsp;<A HREF="#NT-Tools_7.htm">3 Launching NT GEOS and Swat</A><BR>
&nbsp;&nbsp;<A HREF="#NT-Tools_9.htm">4 Compiling GEOS Applications</A><BR>
&nbsp;&nbsp;<A HREF="#NT-Tools_b.htm">5 Directory Structure</A><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#NT-Tools_c.htm">5.1 Branches</A><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#NT-Tools_d.htm">5.2 Main Directories</A><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#NT-Tools_e.htm">5.3 Target Directories</A><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#NT-Tools_f.htm">5.4 Developing In Your Working Branch</A><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#NT-Tools_10.htm">5.5 Multi-Developer Projects</A><BR>
&nbsp;&nbsp;<A HREF="#NT-Tools_11.htm">6 Troubleshooting</A><BR>
</STRONG>
</P> <!-- end of sectionlinks blob -->

<HR>

<A NAME="NT-Tools_1.htm"></A>


<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 1 
<A NAME="NT-Tools_1.htm_30700">
 </A>
System Requirements</H2>
<P>
The GEOS SDK runs on a Windows NT workstation (version 3.51 or later). The SDK also requires a perl interpreter (a shareware copy is provided on the CD-ROM) and the Borland C/C++ compiler, version 4.0 or later. (We recommend versions 4.X over 5.0; see <A HREF="#NT-Tools_9.htm_64845"> Compiling GEOS Applications</A>
.)</P>
<HR>
<A NAME="NT-Tools_2.htm"></A>


<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 2 
<A NAME="NT-Tools_2.htm_13977">
 </A>
Installation and Setup</H2>
<P>

You can install the GEOS NT SDK as either a standalone SDK for just one computer or as a server/client SDK on a network drive. The former is suited for single developers while the latter allows multiple developers to work on different aspects of the same project simultaneously. In either case, the steps for installation are similar. In summary,
<UL>
<LI>Install the Borland C/C++ compiler (v4.5 recommended).</LI>
<LI> Run <CODE>
setup</CODE>
 from the GEOS NT SDK CD-ROM.</LI>
<UL>
	<LI>Specify the type of installation: Server, or Client, or Standalone.
</UL>
<LI>Install perl (if not already present) by clicking on the &quot;Perl Install&quot; icon in the GEOS SDK Program Group. 
</UL>
<P>
Some additional steps are required for server-client installations.
<UL>
<LI>Run the installer, specifying the &quot;Server&quot; option.
<LI>Set the network directory for the network (shared) branch of the SDK.
<LI> On each NT development machine, run the NT GEOS SDK installer with a &quot;Client&quot; install.
<UL>
<LI>Specify where the network (shared) SDK branch resides.
</UL>
</UL>

The following sections explain each of these steps in greater detail and show how the SDK modifies the system environment.
<P>
<P CLASS="subsectionLink">
<A HREF="#NT-Tools_3.htm">Installation Details</A></P>
<P CLASS="subsectionLink">
<A HREF="#NT-Tools_4.htm">NT Configuration</A></P>
<P CLASS="subsectionLink">
<A HREF="#NT-Tools_5.htm">Environment Configuration</A></P>
<P CLASS="subsectionLink">
<A HREF="#NT-Tools_6.htm">Registry Configuration</A></P>
<HR>
<A NAME="NT-Tools_3.htm"></A>


<H3 CLASS="subsectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 2.1 <A HREF="#NT-Tools_2.htm">Installation and Setup</A>: 
<A NAME="NT-Tools_3.htm_51314">
 </A>
Installation Details</H3>
<P>

<STRONG>Steps for installing the GEOS NT SDK:</STRONG>

<DL>
<DT>
Install the Borland C/C++ compiler (v4.5 recommended).</DT><DD>
Installing the Borland C++ compiler prior to the GEOS NT SDK allows the SDK installer to automatically set the environment variable pointing to the directory where it finds the compiler. Be sure to install the 32-bit Windows compiler; it is part of the &quot;typical&quot; installation.</DD>
<DT>
Run <CODE>
setup</CODE>
 from the GEOS NT SDK CD-ROM.</DT><DD>
Install the GEOS NT SDK by launching <CODE>
setup.exe</CODE>, found in the CD-ROM's topmost directory. The installer will prompt you to choose  from one of three installation options: <STRONG>Server</STRONG>,
<STRONG>Client</STRONG>, or
<STRONG>Standalone</STRONG>.
<P>

A <STRONG>server</STRONG> installation installs the shared components of the SDK on a network server so that it accessed from multiple client workstations. 
<P>

A <STRONG>client</STRONG> installation: 
<UL>
<LI>
creates a local (client) working directory.</LI>
<LI>
sets your environment variables and updates your NT configuration. </LI>
<LI>
sets defaults in the variable registry.</LI>
</UL>

<P>
A <STRONG>standalone</STRONG> installation:
<UL>
<LI>
installs both the client and server portions on one machine.</LI>
<LI>
creates a private demo (target) tree.</LI>
<LI>
sets your environment variables and updates your NT configuration. </LI>
<LI>
sets defaults in the variable registry.</LI>
</UL>

<P>

Note that the root for the client and server portions must be the same. For example, if the server SDK is in f:/prog/sdks/<EM>pcgeos</EM>, then the local working directory must look like c:/<EM>pcgeos</EM>/jdoe, where the two italicized components match. This applies to both <STRONG>standalone</STRONG> and <STRONG>client/server</STRONG> development. Typically, this root directory is &quot;pcgeos&quot;, e.g. S:\PCGEOS. (For more information, see <A HREF="#NT-Tools_b.htm_58676"> Directory Structure</A>.) 
</DD>
<DT>
Install perl.</DT><DD>
If you do not have a perl interpreter, install the shareware copy provided by running <STRONG CLASS="fileName">
pcgeos\bin\Pw32i302.exe</STRONG>
 or by clicking the &quot;Perl Install&quot; GEOS SDK Program Group icon. Leave checked the box to run <CODE>
install.bat</CODE>
 after unzipping; reply &quot;y&quot; (the default) to the install options.</DD>

<DT>
Verify that environment and registry variables have been properly set.</DT><DD>
The modified environment variables are listed in <A HREF="#NT-Tools_5.htm#44741"> Environment Configuration</A>. You can modify registry variables with <CODE>GeosSetup.exe</CODE>, as described in <A HREF="#NT-Tools_6.htm_79552"> Registry Configuration</A>.</DD>
</DL>
<HR>
<A NAME="NT-Tools_4.htm"></A>


<H3 CLASS="subsectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 2.2 <A HREF="#NT-Tools_2.htm">Installation and Setup</A>: 
<A NAME="NT-Tools_4.htm_96480">
 </A>
NT Configuration</H3>

<P>
The installer completes the following for you automatically; they are included here for reference only.</P>
<UL>
<LI> Task Priorities<BR>
Foreground and background task are set to run at the same priority. This is needed for Swat to run properly. This setting is found in the <CODE>System</CODE> module of the NT Control Panel.
</LI>
<LI>
Open File Count<BR>
files = 100 (or more) specified in <STRONG CLASS="fileName">
%SystemRoot%\system32\config.nt</STRONG>
.</LI>
<LI>
File System Driver<BR>
<EM>
fs = os2{ec}.geo</EM>
 specified under the <EM>
[system]</EM>
 category in your demo's <STRONG CLASS="fileName">
.ini</STRONG>
 file.
</UL> 


<HR>
<A NAME="NT-Tools_5.htm"></A>


<H3 CLASS="subsectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 2.3 <A HREF="#NT-Tools_2.htm">Installation and Setup</A>: 
<A NAME="NT-Tools_5.htm_44741">
 </A>
Environment Configuration</H3>
<P>
The compiling and linking tools use the following environment variables to find executables and include files. These variables are set from the <CODE>
system</CODE>
 module of the control panel, not an autoexec file.</P>
<P>

<CODE>
setup</CODE>
 sets these environment variables for you; they are included here for reference only.</P>
<DL>
<DT>
ROOT_DIR</DT><DD>The root of the SDK installation, typically <EM>
C:\PCGEOS</EM>
 (local development) or <EM>
S:\PCGEOS</EM>
 (network development, substituting your particular network drive for <EM>
S:</EM>
).</DD>
<DT>
GOC_COMPILER_DIR</DT><DD>
The root of the compiler directory, such as C:\BC45.</DD>
<DT>
<EM>
PATH</EM>
</DT><DD>Your PATH must include entries for the <STRONG CLASS="fileName">
bin\</STRONG>
 directories of the Borland C++ compiler, PCGEOS, and your copy of perl. (More information on Borland C++ and perl is found in <A HREF="#NT-Tools_9.htm_64845"> Compiling GEOS Applications</A>
.)</DD>
<DT>
<EM>
CCOM</EM>
</DT><DD>Alternate compilation command for <CODE>
pmake</CODE>
. This must be set to <EM>
@dosfront bcc</EM>
 for versions of the Borland compiler prior to 5.0.</DD>
</DL>
<HR>
<A NAME="NT-Tools_6.htm"></A>


<H3 CLASS="subsectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 2.4 <A HREF="#NT-Tools_2.htm">Installation and Setup</A>: 
<A NAME="NT-Tools_6.htm_79552">
 </A>
Registry Configuration</H3>
<P>

To check your registry settings, run <CODE>GeosSetup.exe</CODE> from the GEOS SDK Program Group. (Note: do not confuse <CODE>GeosSetup.exe</CODE> for <CODE>setup.exe</CODE>, which is the installer program.)
<P>
Swat (here and on its command line) prefers forward slashes in directory paths; backslashes are sometimes inadvertently interpreted as special characters (\tools as <EM>
&lt;TAB&gt;</EM>
ools, for instance).</P>
<P>

<IMG SRC="SetupWindow.gif">

&nbsp;</P>
<DL>
<DT>
<EM>
SDK Root</EM>
</DT><DD><EM>
C:/PCGEOS</EM>
 (local) or <EM>
S:/PCGEOS</EM>
 (network).<BR>
Can be any path, but the last element is typically PCGEOS. This is the directory where you installed the SDK.</DD>
<DT>
<EM>
Local Root</EM>
</DT><DD><EM>
S:/PCGEOS/username</EM>
, for example.<BR>
Where Swat stores <STRONG CLASS="fileName">
.symdir</STRONG>
 files; also the head of its search for an engineer's own <STRONG CLASS="fileName">
.sym</STRONG>
 files. For <CODE>
pmake</CODE>
 to run properly the penultimate element of <EM>
Local Root</EM>
 must have the same name as the last element of <EM>
SDK Root</EM>
. (It need not be the actual <EM>
SDK Root</EM>
 directory, however.) The last element may be named anything, but user names are typically used.</DD>
<DT>
<EM>
Branch</EM>
</DT><DD><EM>
N9000V20<BR>
</EM>
or other platform as appropriate. Leave blank if your development tree does not have platform branches.</DD>
<DT>
<EM>
Object Source</EM>
</DT><DD>
<EM>
Installed<BR>
</EM>
Directory under <EM>
SDKRoot/Branch</EM>
 heading the search for shared or SDK-supplied <STRONG CLASS="fileName">
.sym</STRONG>
 files.</DD>
<DT>
<EM>
Tcl Directory</EM>
</DT><DD>
	<EM>
Tools/swat/lib.new<BR>
</EM>
Location of Swat's <STRONG CLASS="fileName">
.tcl</STRONG>
 files under <EM>
SDK Root</EM>
.</DD>
<DT>
<EM>
Tcl Override Directory</EM>
</DT><DD>
Location of additional <STRONG CLASS="fileName">
.tcl</STRONG>
 files; typically blank.</DD>
<DT>
<EM>
Swat Init file</EM>
</DT><DD>
	Any init file you would like Swat to execute upon startup. Typically blank or <EM>
C:/PCGEOS/SWAT.RC</EM>
.</DD>
<DT>
<EM>
Fast Video</EM>
</DT><DD><EM>
Checked<BR>
</EM>
NT GEOS video mode selector. <EM>
Fast Video</EM>
 artificially reduces the number of screen updates used by NT GEOS; therefore, you will see less flicker and faster execution response than on the actual device. Disable this option if you are testing animations or assessing relative flicker rates.</DD>
</DL>
<P>
The GEOS<CODE>
 Setup</CODE>
 window also includes a selector for the communication mode. Choose <EM>
Local (NT native)</EM>
 to instruct Swat to attach to your NT GEOS window, or choose <EM>
Remote (Serial)</EM>
 to instruct Swat to attach to an external device, with appropriate <EM>
Speed</EM>
 and <EM>
Port</EM>
 settings.</P>
<P>
You may store and recall a number of different setups by using the <EM>
Current Setup</EM>
 selector. The <EM>
Setup</EM>
 names have no intrinsic meaning.</P>
<HR>
<A NAME="NT-Tools_7.htm"></A>


<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 3 
<A NAME="NT-Tools_7.htm_44763">
 </A>
Launching NT GEOS and Swat</H2>
<P>
You will find example shortcuts for launching the NT GEOS demo in the GEOS SDK Program Group. You can define additional shortcuts to launch NT GEOS by right-clicking on the root window (NT 4.0) or selecting the menu item File -&gt; New on the Program Manager (NT 3.51). Specify a command such as <BR>
<EM>
c:\pcgeos\target\n9000.nc\swat.exe /s loader.exe</EM>
 (modified as desired); you must also specify a working directory (under <STRONG CLASS="fileName">
target\</STRONG>
) corresponding to the simulation you wish this icon to run. For command examples, refer to the batch files described below.
<P>
<IMG SRC="Emulation.gif">
</P>
<P>
To launch a target device window from the command line, change-directory to your target area (for example, <STRONG CLASS="fileName">
\pcgeos\target\n9000.ec\</STRONG>
) and type <CODE>
start s</CODE>
 at the prompt. (<CODE>
s.bat </CODE>
is supplied in the target directory templates, and <CODE>
start</CODE>
 tells NT to run the command in a new window.) <CODE>
s.bat </CODE>
is a batch file which executes the Swat stub; <CODE>
ss.bat </CODE>
forces the demo to wait for a host Swat debugger to attach. Execute <CODE>
start s</CODE>
 (or <CODE>
ss</CODE>
) in your non-EC directory to run the non-EC version of the Swat stub. To run the non-Swat demo, use <CODE>
start geos</CODE>
, which executes <CODE>
loader{ec}.exe</CODE>
 without the Swat stub.</P>
<P>
In summary, each of these demos is available in both the EC and non-EC target directories:</P>
<PRE>ss.bat		Demo with Swat stub, wait for host Swat
s.bat		Demo with Swat stub, do not wait
geos.bat		Demo without Swat</PRE>
<P>
Launch the host Swat debugger from an icon in the GEOS SDK Program Group or from the command line with <STRONG CLASS="fileName">
swat </STRONG>
(or <STRONG CLASS="fileName">
start swat</STRONG>
). (Be careful not to run a Swat stub if your current directory is a target directory; you want to run <STRONG CLASS="fileName">
swat.exe</STRONG>
 from <STRONG CLASS="fileName">
pcgeos\bin\</STRONG>
.) Debugging with Swat in the NT environment is the same as that in the old DOS one; use <CODE>
^</CODE>
C and <CODE>
c</CODE>
 to interrupt and continue execution, <CODE>
att</CODE>
 and <CODE>
det</CODE>
 to attach and detach, and so forth.</P>
<P>
The Swat window size may be increased by modifying the window-size property of your command windows in general or your Swat shortcut in particular. Any change made to a window <EM>
after</EM>
 Swat is launched will not be recognized.</P>
<P>
You can instruct Swat to attach to an external Communicator device or PC emulator by running GEOS<CODE>
 Setup</CODE>
 prior to launching Swat and selecting the serial <EM>
Communication Mode</EM>
 and an appropriate <EM>
Comm port</EM>
.</P>
<P>
You can stop NT GEOS by entering <CODE>
detach</CODE>
 or <CODE>
quit</CODE>
 when Swat is attached. Otherwise, you can stop the demo by clicking the kill (X) button on the right of the titlebar, double-clicking the top-left titlebar menu, or using NT's task manager.</P>
<H3>
.swat: Automating Swat</H3>
<P>
If you have a file called .<STRONG CLASS="fileName">
swat</STRONG>
 in the root of your private directory and run the GEOS Setup program to change the &quot;Swat Init File&quot; field to point to that file, Swat will execute Swat commands in that directory when it starts up. Below is a short example of a .swat file:</P>
<PRE>srcwin 15
sd hello</PRE>
<P>
<A NAME="NT-Tools_7.htm_IX_.SWAT file[;swat file]">
 </A>
<A NAME="NT-Tools_7.htm_IX_Automating Swat">
 </A>
<A NAME="NT-Tools_7.htm_IX_sd Swat command">
 </A>
The <CODE>
srcwin</CODE>
 command sets up a source-code window at the bottom of the screen. The <CODE>
sd</CODE>
 command changes the symbolic default to be the &quot;hello&quot; thread. Any time Swat does not recognize a name in the current thread, it will see if the name has meaning in the hello thread.</P>
<HR>
<A NAME="NT-Tools_9.htm"></A>


<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 4 
<A NAME="NT-Tools_9.htm_64845">
 </A>
Compiling GEOS Applications</H2>
<P>
To compile GEOS C code, you need the following third-party software installed on your system:</P>
<UL>
<LI>
Borland C/C++ Compiler</LI>
<LI>
Perl Interpreter</LI>
</UL>
<P>
Your <EM>
PATH</EM>
 variable must include the Borland compiler's <STRONG CLASS="fileName">
bin</STRONG>
 directory and the directory containing the perl interpreter. If you installed Borland C++ after the NT SDK or if you set up a network environment, you may need to set the environment variable GOC_COMPILER_DIR to reflect the compiler's location. Refer to <A HREF="#NT-Tools_5.htm_44741"> Environment Configuration</A>
.</P>
<P>
Borland C++ is a separate product on its own CD-ROM. We strongly recommend that you install version 4.5 of the compiler, included with most distributions of version 5.0. A change in the compiler's handling of #pragma options creates errors (not reported at compile time) in geodes compiled with version 5.0. You must install the 32-bit Windows compiler, a part of the &quot;typical&quot; installation.</P>
<P>
A shareware version of the perl installer has been included with the SDK; refer to <A HREF="#NT-Tools_2.htm_13977"> Installation and Setup</A>
 for installation instructions.</P>
<P>
All of the tools needed to compile geodes (goc, glue, etc.) have been included in the <STRONG CLASS="fileName">
\pcgeos\bin</STRONG>
 directory. Use <CODE>
mkmf</CODE>
 and <CODE>
pmake</CODE>
 to compile, as described in the chapter &quot;Using Tools&quot; of the Tools book. (<CODE>
pmake depend</CODE>
 is not needed in the NT environment.)</P>
<P>
After compiling, copy resulting geodes directly to your target tree from the command line or use Swat's <CODE>
send</CODE>
 command after attaching. <STRONG CLASS="fileName">
world\extrapps</STRONG>
 is the appropriate demo directory for extras on the Nokia 9000i Communicator.</P>
<H3>
Changes From the DOS SDK</H3>
<P>
If you are familiar with GEOS development in the DOS environment, note the following changes:</P>
<UL>
<LI>
You need not run <CODE>
pmake depend</CODE>
 after <CODE>
mkmf</CODE>
; use it only to re-make dependencies when you change your include-file statements.</LI>
<LI>
You may use DOS <CODE>
copy</CODE>
 to put compiled geodes in your target tree, although Swat's <CODE>
send</CODE>
 command works as before.</LI>
<LI>
Subdirectories under the main include-file directories must be explicitly stated, as in <EM>
#include &lt;Ansi/string.h&gt;</EM>
.</LI>
<LI>
The &quot;pause&quot; and &quot;break&quot; keys do not stop the demo; kill the GEOS window using the menubar or use Swat's <CODE>
detach</CODE>
 or <CODE>
quit</CODE>
 command.</LI>
<LI>
The development directories have been modified; see <A HREF="#NT-Tools_b.htm_58676"> Directory Structure</A>.</LI>
</UL>
<HR>
<A NAME="NT-Tools_b.htm"></A>


<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 5 
<A NAME="NT-Tools_b.htm_58676">
 </A>
Directory Structure</H2>
<P>
The directory structure in the NT SDK differs significantly from that of the DOS SDK. The change reflects standardization across platforms and facilitates multi-engineer development in a network environment.</P>
<P CLASS="subsectionLink">
<A HREF="#NT-Tools_c.htm">Branches</A></P>
<P CLASS="subsectionLink">
<A HREF="#NT-Tools_d.htm">Main Directories</A></P>
<P CLASS="subsectionLink">
<A HREF="#NT-Tools_e.htm">Target Directories</A></P>
<P CLASS="subsectionLink">
<A HREF="#NT-Tools_f.htm">Developing In Your Working Branch</A></P>
<P CLASS="subsectionLink">
<A HREF="#NT-Tools_10.htm">Multi-Developer Projects</A></P>
<HR>
<A NAME="NT-Tools_c.htm"></A>


<H3 CLASS="subsectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 5.1 <A HREF="#NT-Tools_b.htm">Directory Structure</A>: 
<A NAME="NT-Tools_c.htm_89677">
 </A>
Branches</H3>
<P>
Every device that runs GEOS contains a specific version of the kernel, applications, and various ancillary libraries and drivers. The directory path that contains the specific version of the device software is called a Branch. (The &quot;Trunk&quot; is a collection of all the files from all the different branches. As a developer, you will never need to utilize any files on the Trunk.)</P>
<P>
Branch directories are located directly under the PCGEOS directory (<EM>
i.e.</EM>
, the main SDK directory) and were developed as a way to &quot;lock in&quot; a device-specific image of the development system. For example, the N9000V20 branch contains all the header and symbol files for Version 2.0 of the Nokia 9000 SDK.  When you install an SDK for another GEOS device, you will find a new branch directory specific to that device under the PCGEOS directory.</P>
<P>
The figure below
 shows the directory layout of the Nokia 9000i SDK (Version 1.1). This may appear slightly different on newer SDKs. This directory tree contains two Branch directories:  <EM>
N9000V11</EM>
 and <EM>
{Working_Branch}</EM>
.  ({<EM>
Working_Branch</EM>
} is your personal development area; see <A HREF="#NT-Tools_f.htm_76945"> Developing In Your Working Branch</A>
 for a complete explanation of Working Branches)
<P>
<IMG SRC="DirTree.gif">
<P>
If multiple developers are working on a project, then the branches should be separated into the local branches which reside on each engineer's machine and the shared network branch which all the project developers will access each time they compile. When performing a <STRONG>server</STRONG> install, the above directories marked &quot;shared/network&quot; are installed onto the network machine, and the <STRONG>client</STRONG> install places the directories marked &quot;local&quot; on each developer's machine. (See <A HREF = "NT-Tools_10.htm">5.5 Multi-Developer Projects</A>.)
</P>
<HR>
<A NAME="NT-Tools_d.htm"></A>


<H3 CLASS="subsectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 5.2 <A HREF="#NT-Tools_b.htm">Directory Structure</A>: 
<A NAME="NT-Tools_d.htm_85312">
 </A>
Main Directories</H3>
<P>
Each Branch contains the following directories:</P>
<DL>
<DT>
<EM>
CInclude</EM>
</DT><DD>Contains all the *.H and *.GOH header files you need to compile GEOS applications written in GOC.</DD>
<DT>
<EM>
Include</EM>
</DT><DD>Contains all the *.DEF and *.UIH header files you need to compile GEOS applications written in ESP (assembly).</DD>
<DT>
<EM>
Installed</EM>
</DT><DD>Contains all the *.LDF (<EM>
i.e.</EM>
, link definition files) files (used by Glue, our linker) and symbol files of all the GEOS applications, libraries, and drivers (used by Swat, our debugger).</DD>
<DT>
<EM>
Appl</EM></DT><DD>
	Contains a subdirectory holding your application's source code; for instance, your CardGame application might reside in:
<STRONG CLASS="fileName">
appl\cardgame\cardgame.goc</STRONG>
</DD>
<P>
Also contains the following subdirectories:</P>
<DL>
<DT>
	SDK_C</DT><DD>
which holds general purpose sample applications; for example, the huge array sample application lives in:
<STRONG CLASS="fileName">
appl\sdk_c\harray\harray.goc</STRONG>
</DD>
<DT>
SDK_* </DT><DD>
which holds device-specific sample applications (where * refers to the specific device); for example, the dialog box sample application for the Nokia 9000i Communicator lives in:
<STRONG CLASS="fileName">
appl\sdk_9000\dialogs\dialogs.goc</STRONG>
</DD>
</DL>
<DT>
<EM>
Library</EM></DT><DD>
	Contains a subdirectory holding your library's source code; for example, the new utility library you're writing would live in:
<STRONG CLASS="fileName">
library\utility\utility.goc</STRONG>
</DD>
<DT>
<EM>
Driver</EM>
</DT><DD>Contains a subdirectory holding your driver's source code; for example, the new Zippy driver you're writing would live in:
<STRONG CLASS="fileName">
driver\zippy\zippy.goc</STRONG>
</DD>
</DL>
<HR>
<A NAME="NT-Tools_e.htm"></A>


<H3 CLASS="subsectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 5.3 <A HREF="#NT-Tools_b.htm">Directory Structure</A>: 
<A NAME="NT-Tools_e.htm_25555">
 </A>
Target Directories</H3>
<P>
In addition to those directories listed above, your Working Branch contains a Target directory. This directory contains the executable and data files comprising an emulation (or &quot;demo&quot;) of the actual GEOS device. The Target subtree mirrors the file system layout of the actual device. </P>
<P>
Be sure to update the working directories of your GEOS SDK demo shortcuts so that they point to the Target directory in your Working Branch; for example, the shortcut to the error-checking demo for the Nokia 9000i Communicator should be <STRONG CLASS="fileName">
\pcgeos\username\target\n9000.ec</STRONG>
.</P>
<P>
Network installations can make use of shared geode libraries if desired. When geodes are invoked during emulation, the current working (target) directory tree will be searched first, followed by trees specified by the <EM>
top</EM>
 keyword under <EM>
[paths]</EM>
 in your <STRONG CLASS="fileName">
.ini</STRONG>
 file. For example, all of the geodes under the <STRONG CLASS="fileName">
system</STRONG>
 subdirectory could be stored in a central, shared location in order to save disk space or allow easy updates. You can supersede shared geodes in your demo by putting custom versions (of the same name) in your private <STRONG CLASS="fileName">
system</STRONG>
 subdirectory.</P>
<P>
Each target directory has a <STRONG CLASS="fileName">
geos{ec}.ini</STRONG>
 file. It can refer to files of standard <STRONG CLASS="fileName">
.ini </STRONG>
settings under its <EM>
[paths]</EM>
 category; it also contains superseding information necessary for running NT GEOS. When editing <STRONG CLASS="fileName">
.ini</STRONG>
 files, take care to end each line with a <EM>
CR-LF</EM>
 pair or use an editor (such as DOS <CODE>
edit</CODE>
) that does so transparently. More information on <STRONG CLASS="fileName">
.ini</STRONG>
 files in general is found in the Tools book.</P>
<HR>
<A NAME="NT-Tools_f.htm"></A>


<H3 CLASS="subsectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 5.4 <A HREF="#NT-Tools_b.htm">Directory Structure</A>: 
<A NAME="NT-Tools_f.htm_76945">
 </A>
Developing In Your Working Branch</H3>
<P>
The Working Branch is your private development area. By doing all your work in your Working Branch (also called your <EM>
Local Root</EM>
), the Branch files can remain untouched.</P>
<P>
You specify the directory for your Working Branch during the Local SDK Install program.  The default is your login name.  For example, if your login is jdoe, then your Working Branch directory is <STRONG CLASS="fileName">
c:\pcgeos\jdoe\</STRONG>
. (You should also make sure that the demo shortcuts point to the Target directory in your Working Branch.)</P>
<P>
Within your Working directory is a file called BRANCH.  This file specifies which Branch directory the tools will use when compiling and linking your source code.  The tools will first look for files in your Working Branch.  Whatever files it does not find in your Working Branch, it will look for in the Branch specified by the BRANCH file.  You need only keep the file or files that you are working on in your Working Branch and system files (such as header files) can remain on the device Branch. So, for example, a typical development sequence might look like this:</P>
<UL>
<LI>
You want to add another feature to the Zippy driver so you copy (or &quot;check out&quot; if you have a version control system) the zippy.goc file from the Branch to your Working Branch.</LI>
<LI>
You edit the file and make your changes.</LI>
<LI>
You compile the modified file.</LI>
<LI>
You find and fix all the bugs.</LI>
<LI>
You &quot;install&quot; the modified file by using version control or by simply copying it back to the Branch.</LI>
</UL>
<P>
To specify which Branch the compiler and linker should use, place the name of the Branch directory in the BRANCH file.  (Currently, setting the Branch field in GEOS Setup only affects which branch Swat uses; you must edit the actual BRANCH file yourself.) Initially, your BRANCH file contains N9000V20.</P>
<HR>
<A NAME="NT-Tools_10.htm"></A>


<H3 CLASS="subsectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 5.5 <A HREF="#NT-Tools_b.htm">Directory Structure</A>: 
<A NAME="NT-Tools_10.htm_92116">
 </A>
Multi-Developer Projects</H3>
<P>
The system of Branch files is most helpful when there are multiple developers working on the same project. Each developer would maintain her personal working files in her own Working Branch while shared files would remain on the device Branch. As development progresses, each developer can &quot;install&quot; files to the Branch directory as she reaches stable milestones thereby allowing her co-workers to use the &quot;installed&quot; versions of her files.  (Note: &quot;installing&quot; can be as simple as copying the files by hand or can be handled by a version control system.)</P>
<HR>
<A NAME="NT-Tools_11.htm"></A>


<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Installing the SDK</A>: 6 
<A NAME="NT-Tools_11.htm_61275">
 </A>
Troubleshooting</H2>
<P>
If you are having trouble starting the simulation or attaching Swat, consult the table below. The most common known difficulties are listed.</P>
<DL>
<DT>
GEOS window dies immediately.</DT><DD>
Run the EC version and attach Swat. Does it die with the error LS_CANNOT_LOCATE_KERNEL?<BR>
<EM>
The working directory of the </EM>
NT GEOS<EM>
 window must be a target directory with an</EM>
<STRONG CLASS="fileName">
 .ini </STRONG>
<EM>
file and device subdirectories.</EM>
</DD>
<P>
Does Swat report FSHOF_SET_FILE_NAME_PASSED_TO_SKELETON_DRIVER, ATTEMPTED_TO_PERFORM_UNSUPPORTED_FUNCTION_<BR>
BEFORE_APPROPRIATE_IFS_DRIVER_WAS_LOADED, or TOO_MANY_PRIMARY_FSDs?<BR>
<EM>
There is a problem with the file system driver. Check </EM>
<STRONG CLASS="fileName">
.ini</STRONG>
<EM>
 file settings and </EM>
<CODE>
setver</CODE>
<EM>
 listing, referring to <A HREF="#NT-Tools_4.htm_96480"> NT Configuration</A>
.</EM>
</P>
<DT>
GEOS is not in a window.</DT><DD>
It should have a title bar and look like a window.<BR>
<EM>
Verify that you have a text loader (</EM>
<STRONG CLASS="fileName">
loader{ec}.exe</STRONG>
<EM>
).<BR>
Verify that </EM>
<STRONG CLASS="fileName">
geosvdd.dll</STRONG>
<EM>
 is in your path.<BR>
Verify that you are using an </EM>
NT<EM>
 video driver under </EM>
<EM>
[screen 0]</EM>
<EM>
 in your </EM>
<STRONG CLASS="fileName">
.ini</STRONG>
<EM>
 file (probably </EM>
<STRONG CLASS="fileName">
simp4bi{t/e}</STRONG>
<EM>
).</EM>
</DD>
<DT>
GEOS cannot launch, reporting: <EM>
Can't open named pipe</EM>
</DT><DD>
Are you already running NT GEOS?<BR>
<EM>
Only one copy can run at a time.</EM>
</DD>
<DT>
Swat cannot connect, reporting: <EM>
Can't contact GEOS using the Named Pipe: \\.\pipe\swatpipe</EM>
</DT><DD>
Are you running the demo with a Swat stub (<STRONG CLASS="fileName">
s.bat</STRONG>
 or <STRONG CLASS="fileName">
ss.bat</STRONG>
)? Did you immediately try to attach?<BR>
<EM>
If you are running the correct demo, try to attach again. You may have attempted to attach before the Swat stub was ready.</EM>
</DD>
<DT>
The keyboard doesn't work.</DT><DD>
Is the NT GEOS window active? It should have a blue title bar.<BR>
<EM>
Click in the window to make it active.</EM>
</DD>
<DT>
	GEOS isn't running a window.</DT><DD>
<EM>
Check your </EM>
<STRONG CLASS="fileName">
.ini</STRONG>
<EM>
 file (and [paths] referents) for correct keyboard setting (or </EM>
<EM>
pini keyboard</EM>
<EM>
 in swat); you must use the </EM>
<CODE>
gdikbd</CODE>
<EM>
 keyboard driver.</EM>
</DD>
<DT>
	The keyboard seems to fail suddenly.</DT><DD>
<EM>
Ctrl or Alt keys may be &quot;stuck&quot; in </EM>
GEOS<EM>
. Hit Ctrl, Alt, Caps Lock, and Shift a few times to clear them.</EM>
</DD>
<DT>
Extended-character-set dialog will not come up.
</DT><DD>
<EM>
Verify that </EM>
<EM>
altGr = true</EM>
<EM>
 under category </EM>
<EM>
[GDI keyboard]</EM>
<EM>
 is set in your</EM>
<STRONG CLASS="fileName">
 .ini</STRONG>
<EM>
 file (or referent).</EM>
</DD>
<DT>
Swat's <CODE>
srcwin</CODE>
 command fails, reporting: <EM>
Window too small</EM>
</DT><DD>
The default NT command-window size is too small for the default srcwin. There are two fixes:<BR>
<EM>
(1) Reduce the srcwin buffer size to match your window size with the Swat command </EM>
<EM>
srcwin 20.<BR>
</EM>
<EM>
(2) Restart Swat from a larger window. (Size changes during a session are not recognized by Swat.) Your default window size can be increased by changing the window-size property of your command windows, or just your Swat shortcut.</EM>
</DD>
<DT>
Swat does not set mouse-click breakpoints.</DT><DD>
<EM>
Make sure quick-edit mode is off in your Swat window.</EM>
</DD>
<DT>
GEOS hangs until Swat window selected.</DT><DD>
Have foreground/background task priorities been set equal?<BR>
<EM>
Check under the </EM>
<CODE>
System</CODE>
<EM>
 module of the Control Panel.</EM>
</DD>
<DT>
GEOS hangs or <STRONG CLASS="fileName">
.ini</STRONG>
 file corrupt.</DT><DD>
Run the EC version and attach Swat. Is the <STRONG CLASS="fileName">
.ini</STRONG>
 file corrupt?<BR>
<EM>
Open and re-save it using </EM>
NT<EM>
 or </EM>
DOS
<CODE>
edit</CODE>
<EM>
 to restore </EM>
<EM>
CR-LF</EM>
<EM>
's.</EM>
</DD>
<DT>
GEOS does not emulate sounds.</DT><DD>
<EM>
To test sounds in your application, you must use an actual device. (Sound has been disabled entirely to avoid the spurious sounds produced by the </EM>
PC<EM>
-</EM>
DOS<EM>
 driver, in your .</EM>
INI<EM>
 files, </EM>
SOUND<EM>
 = </EM>
OFF<EM>
 under [</EM>
UI<EM>
].)</EM>
</DD>
<DT>
<CODE>
pmake</CODE>
 fails, reporting: <EM>
Couldn't find geos.mk.</EM>
</DT><DD>
<EM>
Set environment variable </EM>
ROOT_DIR<EM>
 (to</EM>
 C:\PCGEOS<EM>
, e.g.).</EM>
</DD>
<DT>
<CODE>
pmake</CODE>
 fails, reporting: <EM>
Couldn't find stddef.h</EM>
</DT><DD>
<EM>
Set environment variable </EM>
GOC_COMPILER_DIR <EM>
(to </EM>
C:\BC45<EM>
, e.g.).</EM>
</DD>
</DL>
<HR>
This document is a single-page version of a <A HREF="index.htm">a multi-page document</A>, suitable for easy printing.
</BODY>
</HTML>
