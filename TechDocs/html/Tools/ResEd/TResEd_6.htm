<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: TResEd_6.htm,v 1.1 97/06/27 15:58:35 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Translating Via an ASCII File</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">Resource Editor</A>: 5.1 <A HREF="TResEd_5.htm">Translating Text</A>: 
<A NAME="76291">
 </A>
Translating Via an ASCII File</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="TResEd_5.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="TResEd_5.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">5 Translating Text</A> 
<!-- to next --> | <A HREF="TResEd_7.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">5.2 Translating With ResEdit</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<P>
Choose Other from the File menu; in the submenu that appears, choose Export Document. In the dialog that appears, choose a file location and name for the ASCII Translation File (ATF). </P>
<P>
If you have already gone through the translation process once, and only wish the ASCII Translation File to contain entries for those chunks which have been translated, select the Export only changed chunks box.</P>
<P>
Press the OK button.</P>
<P>
You may now edit the ASCII file to translate strings. </P>
<P>
The important lines of the file are of the form:</P>
<PRE>[<EM>keyword</EM>   ] <EM>data</EM></PRE>
<P>
There should always be one space between the keyword and the data. The following keywords appear in the header:</P>
<DL>
<DT>
[<STRONG>
source</STRONG>
    ]</DT><DD>This is the long name of the geode.</DD>
<DT>
[<STRONG>
path</STRONG>
      ]</DT><DD>This is the geode's path, relative to the Source directory. Applications will typically be in the WORLD path.</DD>
<DT>
[<STRONG>
version</STRONG>
   ]</DT><DD>The geode's version number.</DD>
<DT>
[<STRONG>
DOS name</STRONG>
  ]</DT><DD>The geode's DOS filename.</DD>
</DL>
<P>
The ASCII Translation File then lists all resources in the geode, by means of [resource  ] lines and [endrsrc  ] lines. Do not change the text of these lines. If, examining a resource, you realize it contains no chunk entries you wish to change, you may delete it to make it easier to find the resources you do wish to change. To do so, delete the [resource  ] line, the [endrsrc   ] line, and all lines in between.</P>
<P>
Within each resource, there may be one or more chunks containing localizable strings. For each such chunk, there will be five lines:</P>
<PRE>[chunk     ] <EM>chunkname
</EM>[original  ] {<EM>original text</EM>}
[localize  ] {<EM>instructions</EM>} <EM>max</EM>, <EM>min</EM>, <EM>type
</EM>[translate ] {<EM>translated text</EM>}
[mnemonic  ] <EM>mnemonic</EM> [shortcut  ] <EM>mods</EM>,<EM>shortcut</EM></PRE>
<P>
You will leave most of these fields alone, translating only the <EM>
translated text</EM>
, <EM>
mnemonic</EM>
, <EM>
mods</EM>
, and <EM>
shortcut</EM>
 fields.</P>
<DL>
<DT>
<STRONG>
chunkname</STRONG>
</DT><DD>The chunkname is a unique identifier for the chunk. Do not change this.</DD>
<DT>
<STRONG>
original text</STRONG>
	</DT><DD>
The original text in the chunk. Do not change this. The text is delimited by curly braces (&quot;{&quot; and &quot;}&quot;). If any curly braces occur in the string, they will be represented by two curly braces. </DD>
<DT>
<STRONG>
instructions</STRONG>
	</DT><DD>
Instructions to the person translating. Do not change this. These instructions are taken from the original-language geode. The geode's programmers specified the instructions by means of the <CODE>
@localize</CODE>
 keyword in the source code files.</DD>
<DT>
<STRONG>
max</STRONG>
</DT><DD>Maximum number of characters you may use in the translated text. Do not change this. The geode's programmers specified this number by means of the @<CODE>
localize</CODE>
 keyword.</DD>
<DT>
<STRONG>
min</STRONG>
</DT><DD>Minimum number of characters you may use in the translated text. Do not change this. The geode's programmers specified this number by means of the <CODE>
@localize</CODE>
 keyword.</DD>
<DT>
<STRONG>
type</STRONG>
</DT><DD>The text's purpose in the program. Do not change this. A <EM>
Text Moniker</EM>
 is the visible name of a gadget. A piece of <EM>
Text</EM>
 appears in the program, but not as the name of a gadget. </DD>
<DT>
<STRONG>
translated text</DT><DD>
</STRONG>
This is how the text will appear in the translated geode. You'll probably want to change this text. The text is delimited by curly braces. If you want the translated string to contain curly braces, you should double them--use &quot;{{&quot; and &quot;}}&quot;. E.g., to have translated text &quot;moustache:  :-{)&quot;, the line would read</DD>
<PRE>	[translate ] {moustache: :-{{)}</PRE>
<DT>
</DT><DD>If the original text looks like a shortcut key (e.g., &quot;{(Physical Ctrl u)}&quot;, then to translate the keyboard shortcut, work with <EM>
mods</EM>
 and <EM>
shortcut</EM>
 (described below) and leave this field alone.</DD>
<DT>
<STRONG>
mnemonic</STRONG>
</DT><DD>This is the character the user will use when navigating the translated geode's UI with keyboard navigation. Only Text Monikers may have mnemonics. The mnemonic should be either a character which occurs in the moniker, the keyword <EM>
ESC </EM>
or the keyword <EM>
NIL </EM>
(which signals that there is no mnemonic).</DD>
<DT>
</DT><DD>You must be careful not to assign the same mnemonic to two monikers whose gadgets are both in the active window at the same time. If there is such a conflict, only one of the two gadgets will be activated by this mnemonic. When you have created the translated executable, you should check that there are no conflicting mnemonics, and change any which overlap with others at the same level.</DD>
<DT>
<STRONG>
mods</STRONG>
, <STRONG>
shortcut</DT><DD>
</STRONG>
Together, <EM>
mods</EM>
 and <EM>
shortcut</EM>
 form a keyboard shortcut which the user may use to activate a UI gadget in the translated geode. For instance, Ctrl-S typically activates the Save item of the File menu. This shortcut would be represented by</DD>
<PRE>	[shortcut] PC,s </PRE>
<P>
If, for some reason, the question mark were to be a shortcut, it would be represented by </P>
<PRE>	[shortcut	] ,?</PRE>
<P>
Only monikers may have shortcuts. The lack of shortcut is represented by</P>
<PRE>	[shortcut] ,</PRE>
<P>
Be careful when representing the lack of a shortcut: the carriage return or line feed at the end of the line must occur immediately following the comma. If there is an intervening space, ResEdit will think you want to use the space bar as a shortcut key.</P>
<DT>
</DT><DD>The following <EM>
mods</EM>
 are available: A (Alt), S (Shift), C (Ctrl), and P (&quot;Physical&quot;--Num Lock and Caps Lock state is disregarded). These modifiers may be combined as in the Ctrl-S example.</DD>
<DT>
</DT><DD>The <EM>
shortcut</EM>
 should be a single character. If this character is a letter, pay attention to its case--it should probably be a lower-case letter. </DD>
</DL>
<P>
If you will not need to translate a chunk, you may delete its entry to make it easier to find the chunks you do wish to translate. Delete the [chunk     ] line and the [shortcut  ] line and all lines in between.</P>
<P>
To convert your ASCII Translation File into a regular Translation File, use ResEdit to import the file: either press the Import button in the dialog that appears when ResEdit starts up, or choose New/Open from the File menu, and then choose Import in the dialog that appears. In the dialog that appears, show ResEdit the location of both the ASCII Translation File and the Localization (.vm) File. </P>
<P>
Press the OK button.</P>
<P>
If your original-language geode has changed since the ASCII Translation File was created, ResEdit may present a warning dialog box at this point. Assuming the geode hasn't changed too much, it's probably safe to use the ASCII Translation File anyway. If you're hesitant, you can abort the import. You might then want to export another ASCII Translation File from the newer version of the geode. </P>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="TResEd_5.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="TResEd_5.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">5 Translating Text</A> 
<!-- to next --> | <A HREF="TResEd_7.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">5.2 Translating With ResEdit</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
