<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: TIconEd_4.htm,v 1.1 97/06/27 15:57:05 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Writing Source Code</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="sectionTitle">
<A HREF="index.htm">Icon Editor</A>: 4 
Writing Source Code</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="index.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="TIconEd_3.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">3 Editing Icons</A> 
<!-- to next --> | <A HREF="TIconEd_5.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">5 Icon Databases</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<P>
When the icon is finished, make sure it's saved (File-&gt;Save), and then choose &quot;Write Source Code&quot; from the Icon Menu. Follow these steps to get source code:</P>
<OL>
<LI>
Enter a DOS 8.3 filename for the source file </LI>
<LI>
To write only the current format, leave the &quot;Formats&quot; group at &quot;Current Format&quot;</LI>
<LI>
To write source for all the formats, choose &quot;All Formats&quot;</LI>
<LI>
Select GOC source (assembler is used in-house) </LI>
</OL>
<P>
A dialog should appear when the source code has been written, saying &quot;Source Code Written Successfully&quot;. If a problem is encountered in creating or writing a file, check the permissions on your document directory, and make sure you have enough disk space for the text file (only a few hundred bytes should be necessary). </P>
<P>
The file should appear in your document directory. It's a text file with GOC moniker source code. This source code can be included in your application after you make the following changes: </P>
<UL>
<LI>
The formats for the icon will have names like &quot;Moniker0&quot;. You should give them appropriate names.</LI>
<LI>
The monikers must be placed in a resource. You could place them between statements like:</LI>
<PRE>@start APPMONIKERRESOURCE, data;</PRE>
<PRE>@end APPMONIKERRESOURCE;</PRE>
<P>
	In your .gp file, this resource should have the attributes &quot;lmem, read-only, shared&quot;.</P>
<LI>
You may wish to add the line &quot;style = tool;&quot; for icons that are going to be used as toolbox UI, to assist the specific UI in deciding how to draw them.</LI>
<LI>
Your .goc file must #include &lt;gstring.h&gt;, an include file in which the graphics string data structures used to describe visual monikers are described. (Esp programs include <STRONG CLASS="fileName">
gstring.def</STRONG>
.)</LI>
</UL>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="index.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="TIconEd_3.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">3 Editing Icons</A> 
<!-- to next --> | <A HREF="TIconEd_5.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">5 Icon Databases</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
