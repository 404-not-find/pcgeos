<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<!-- This page was automatically generated from a bunch of smaller pages. -->
<META NAME="copyright" CONTENT="Copyright GEOWORKS">
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">
<TITLE>Icon Editor</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffdf">
This document is a single-page version of a <A HREF="index.htm">a multi-page document</A>, suitable for easy printing.
<A NAME="index.htm"></A>



<H1 CLASS="chapterTitle">

<A NAME="index.htm_97933">
 </A>
Icon Editor

</H1>
<P>
The Icon Editor tool allows you to create icons for your application, both file icons used by file manager applications and simple tool monikers which you may use to provide graphic monikers for a geode's UI gadgetry.</P>

<P CLASS="sectionlinks">
<STRONG>
&nbsp;&nbsp;<A HREF="#TIconEd_1.htm">1 Creating Icons</A><BR>
&nbsp;&nbsp;<A HREF="#TIconEd_2.htm">2 Importing Icons</A><BR>
&nbsp;&nbsp;<A HREF="#TIconEd_3.htm">3 Editing Icons</A><BR>
&nbsp;&nbsp;<A HREF="#TIconEd_4.htm">4 Writing Source Code</A><BR>
&nbsp;&nbsp;<A HREF="#TIconEd_5.htm">5 Icon Databases</A><BR>
&nbsp;&nbsp;<A HREF="#TIconEd_6.htm">6 Exporting to Database</A><BR>
</STRONG>
</P> <!-- end of sectionlinks blob -->

<HR>
<A NAME="TIconEd_1.htm"></A>


<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Icon Editor</A>: 1 
Creating Icons</H2>
<P>
The icons produced by the icon editor are stored in an &quot;icon database&quot; so that they can be viewed and retrieved easily. The icon database is the Icon Editor's &quot;document&quot;, so New/Open, Close, Save As, Make Backup and other Document-control commands will operate on the current database. &quot;Save&quot; actually saves the currently edited icon into the current icon database, and saves the database as well. </P>
<P>
There are 3 standard kinds of icons in use in the system. Each standard type of icon has 3 default formats: One for VGA screens, one for MCGA (monochrome VGA) screens, and one for CGA screens.</P>
<P>
Most icons are used in one of the following ways:</P>
<UL>
<LI>
File Icons, which are used by GeoManager to display and launch applications. The sizes are 48x30, 48x30 (monochrome), 48x14, 32x20, and 32x20(monochrome).</LI>
<LI>
Tool Icons, which are used by controllers in their toolbox UI. The format sizes are 15x15 and 15x10.</LI>
<LI>
Mouse Pointers, which are used to provide a cursor tracking the mouse's movement. This format has one standard size:16 x 16.</LI>
<LI>
Icons which will appear in the OmniGo's Home Screen application are 16x16 and monochrome.</LI>
</UL>
<P>
You may also create custom icons, which start with 1 default format. Custom icons are limited to 1024 pixels wide or tall, and the formats cannot be larger than 64k. </P>
<P>
The first time the icon editor is started it will create a blank file icon named &quot;untitled.&quot; After that, if there is an icon database available to the icon editor, the icon editor will start with the last icon that was being edited before the editor was shut down. </P>
<P>
To create a new icon, choose &quot;Create New Icon&quot; from the Icon menu. The dialog will present 4 options for the type of icon. If you decide to create a custom icon, you should enter the height, width and color scheme for the icon in the provided fields. </P>
<HR>
<A NAME="TIconEd_2.htm"></A>


<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Icon Editor</A>: 2 
Importing Icons</H2>
<P>
There are 2 other ways to create icons. You can import a graphic such as a GIF, TIF, BMP or other supported file format for use as an icon, provided that it is less than 64k (which is the limit for GEOS monikers). You do this using the &quot;Import Graphic&quot; dialog in the Icon menu. </P>
<P>
The other way to make an icon in the icon database is to import a moniker or moniker group from the token database, which is the cache of file monikers kept by GeoManager. Select &quot;Token Database&quot; from the Icon menu to get a list of monikers that you may import. </P>
<HR>
<A NAME="TIconEd_3.htm"></A>


<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Icon Editor</A>: 3 
Editing Icons</H2>
<P>
There are a number of features that are useful when editing icons:</P>
<UL>
<LI>
You can create a format for the icon, and scale it to help create the other formats, using the &quot;Transform Format&quot; dialog under the Format menu. </LI>
<LI>
The pixel-edit size can be set using the Options menu. It defaults to 8-bit-wide pixels. </LI>
<LI>
The &quot;Preview&quot; dialog allows you to view a format in a generic object. If the format is intended for use in a generic object, you can see what it looks like inverted, and (in the case of triggers and tools) what it looks like with different background colors. </LI>
<LI>
You can add your own formats, or delete existing ones, using commands from the Format menu. You might, for example, want to add a SuperVGA format for the icon (system supervga file-icons are 64x40). </LI>
<LI>
256-color icons are technically supported, but no special tools are provided for editing them. You can select the red, green, and blue components of the area or line color from the &quot;Area Color&quot; and &quot;Line Color&quot; dialogs. 256-color icons aren't much use unless either:</LI>
<UL>
<LI>
They use colors only from the system's default palette, or</LI>
<LI>
They are being used in a 24-bit color environment. </LI>
</UL>
<LI>
You can select the aspect ratio for your icon. This will allow the system to make the best choice among formats when selecting from your moniker list. The choices are CGA, EGA, and VGA. The &quot;VGA&quot; aspect ratio should be used for VGA, MCGA (monochrome VGA), and SVGA formats. </LI>
<LI>
You are not required to create multiple formats for your artwork; however we recommend that if you are creating art that could be used under many video modes that you create the three standard formats for the art (VGA, mono VGA, CGA). This shouldn't be too difficult, since there are several tools for working with several formats:</LI>
<UL>
<LI>
The &quot;Transform Format&quot; dialog can be used to create exact copies, or transformed copies, of one format to another.</LI>
<LI>
The &quot;Resize Format&quot; dialog changes the size and shape of a single format.</LI>
<LI>
The &quot;Flip Format&quot; dialog allows you to flip an icon format horizontally or vertically, or to rotate it 90 degrees.</LI>
</UL>
</UL>
<HR>
<A NAME="TIconEd_4.htm"></A>


<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Icon Editor</A>: 4 
Writing Source Code</H2>
<P>
When the icon is finished, make sure it's saved (File-&gt;Save), and then choose &quot;Write Source Code&quot; from the Icon Menu. Follow these steps to get source code:</P>
<OL>
<LI>
Enter a DOS 8.3 filename for the source file </LI>
<LI>
To write only the current format, leave the &quot;Formats&quot; group at &quot;Current Format&quot;</LI>
<LI>
To write source for all the formats, choose &quot;All Formats&quot;</LI>
<LI>
Select GOC source (assembler is used in-house) </LI>
</OL>
<P>
A dialog should appear when the source code has been written, saying &quot;Source Code Written Successfully&quot;. If a problem is encountered in creating or writing a file, check the permissions on your document directory, and make sure you have enough disk space for the text file (only a few hundred bytes should be necessary). </P>
<P>
The file should appear in your document directory. It's a text file with GOC moniker source code. This source code can be included in your application after you make the following changes: </P>
<UL>
<LI>
The formats for the icon will have names like &quot;Moniker0&quot;. You should give them appropriate names.</LI>
<LI>
The monikers must be placed in a resource. You could place them between statements like:</LI>
<PRE>@start APPMONIKERRESOURCE, data;</PRE>
<PRE>@end APPMONIKERRESOURCE;</PRE>
<P>
	In your .gp file, this resource should have the attributes &quot;lmem, read-only, shared&quot;.</P>
<LI>
You may wish to add the line &quot;style = tool;&quot; for icons that are going to be used as toolbox UI, to assist the specific UI in deciding how to draw them.</LI>
<LI>
Your .goc file must #include &lt;gstring.h&gt;, an include file in which the graphics string data structures used to describe visual monikers are described. (Esp programs include <STRONG CLASS="fileName">
gstring.def</STRONG>
.)</LI>
</UL>
<HR>
<A NAME="TIconEd_5.htm"></A>


<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Icon Editor</A>: 5 
Icon Databases</H2>
<P>
<A NAME="TIconEd_5.htm_IX_TOKEN_DA.000 file">
 </A>
<A NAME="TIconEd_5.htm_IX_Token databases">
 </A>
The icon editor can work with more than one icon database at a time via the Multiple Document Interface standard. Each database has its own window, each window having four views. The leftmost view is the database. The top-right view is the &quot;Pixel View&quot;, the main editing area. The two remaining views are next to each other in the lower-right portion of the window. The left view is the actual-size view of the icon, and is editable. The right window is the format list, showing all formats of the icon currently being edited.</P>
<P>
Double-clicking an icon in the database viewer will select it for editing. The currently-edited icon is important in the following ways: </P>
<UL>
<LI>
It is (of course) the only icon being edited in the database associated with that window. </LI>
<LI>
Its size determines the shapes of the various views, which will try to adjust themselves to fit in the window as best they can.</LI>
<LI>
It is the icon that appears in the &quot;Preview&quot; dialog. </LI>
<LI>
It is the icon used in the &quot;Export to Token database&quot; dialog (explained below).</LI>
<LI>
It is the target of all operations in the Icon and Format menus (except &quot;create new icon&quot;).</LI>
</UL>
<P>
The database viewer supports all clipboard operations except for Undo. Icons may be selected and moved or copied between databases. This can be done via the Edit menu or quick-transfer. </P>
<P>
The format list is used to switch editing to a different format in the same icon. This can only be done with the mouse. </P>
<P>
To get more room for editing, use the Options menu to temporarily hide the database viewer or format list while editing. </P>
<HR>
<A NAME="TIconEd_6.htm"></A>


<H2 CLASS="sectionTitle">
<A HREF="#index.htm">Icon Editor</A>: 6 
Exporting to Database</H2>
<P>
This is the function that most people associate with an icon editor. The token database is a cache of moniker lists used by GeoManager and other applications. The token database exists so that every time an application's moniker is needed, it is not necessary to start the application in engine mode to request the moniker (a slow process). </P>
<P>
The icon editor can change entries in the token database. You cannot change the &quot;built in&quot; moniker for a geode using the icon editor. If you make changes to the token database and then delete the database, then when it gets rebuilt your monikers will no longer be there. </P>
<P>
Given that, it's still likely that people will want to set their own monikers in the token database; the icon editor has this ability. </P>
<P>
To change an entry:</P>
<UL>
<LI>
Make sure you are editing the icon you wish to change.</LI>
<LI>
Open the File-&gt;Export to Token Database dialog.</LI>
<LI>
One of the icon's formats should be visible under the &quot;Change To:&quot; text in the dialog. If not, then you are probably editing the wrong icon, or perhaps the icon hasn't been saved into the database.</LI>
<LI>
Use the file selector to find the application, document, library, or other driver whose token database entry you wish to change. Otherwise, enter the four token characters for the geode into the Token Characters text field. Select the corresponding operation from the list at the lower-right of the dialog (&quot;Use File Selector&quot; or &quot;Use Token Chars.&quot;)</LI>
<LI>
The current token-db entry for the selected geode should appear under the &quot;Current Icon&quot; title at the upper-right corner of the dialog. </LI>
<LI>
When you are satisfied with the edited icon, change the moniker with the &quot;Change&quot; trigger in the dialog's reply bar. The change will not take effect in GeoManager until you select Disk-&gt;Rescan Drives in GeoManager.</LI>
<LI>
If you wish to revert a token-database entry to the original, built-in moniker for the geode, select the geode in the file selector and use the &quot;Remove&quot; trigger in the reply bar.</LI>
</UL>
<DL>
<DT>
&nbsp;</DT>
</DL>
<HR>
This document is a single-page version of a <A HREF="index.htm">a multi-page document</A>, suitable for easy printing.
</BODY>
</HTML>
