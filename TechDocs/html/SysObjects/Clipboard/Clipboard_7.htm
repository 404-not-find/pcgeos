<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: Clipboard_7.htm,v 1.1 97/06/02 16:09:19 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Transfer Data Structures</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">The Clipboard</A>: 2.3 <A HREF="Clipboard_4.htm">Transfer Data Structures</A>: 
Transfer Data Structures</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Clipboard_4.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Clipboard_6.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">2.2 ClipboardItemFormatInfo</A> 
<!-- to next --> | <A HREF="Clipboard_8.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">2.4 Clipboard Item Formats</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<P>
<A NAME="IX_ClipboardQueryArgs">
 </A>
Two structures are used with specific routines when dealing with the transfer mechanisms. The <CODE>
ClipboardQueryArgs</CODE>
 structure is returned by <CODE>
ClipboardQueryItem()</CODE>
, and the <A NAME="IX_ClipboardRequestArgs">
 </A>
<CODE>
ClipboardRequestArgs</CODE>
 structure is returned by <CODE>
ClipboardRequestItemFormat()</CODE>
. Both routines are used during a Paste operation, and both structures are shown in <A HREF="Clipboard_7.htm#84765"> ClipboardQueryArgs and ClipboardRequestArgs</A>
.</P>
<P>
<A NAME="IX_TransferBlockID">
 </A>
Note that the <CODE>
CQA_header</CODE>
 field is of type <CODE>
TransferBlockID</CODE>
. This type is a dword made up of two word-sized components: a VM file handle and a VM block handle. The three macros listed after <A HREF="Clipboard_7.htm#84765"> ClipboardQueryArgs and ClipboardRequestArgs</A>
 can be used to create the <CODE>
TransferBlockID</CODE>
 argument and extract either of the components from the whole.</P>
<P CLASS="figTitle">
Code Display 7-3 <A NAME="84765">
 </A>
ClipboardQueryArgs and ClipboardRequestArgs</P>
<PRE>/* ClipboardQueryArgs is filled by ClipboardQueryItem(), which is called when
 * determining whether a transfer item exists. */
typedef struct {
    word		CQA_numFormats;		/* the total number of formats available */
    optr		CQA_owner;		/* the optr of the originating object */
    TransferBlockID CQA_header;				/* The combined VM file handle and VM block
				 * handle of the block containing the
				 * ClipboardItemHeader */
} ClipboardQueryArgs;</PRE>
<PRE>/* ClipboardRequestArgs is filled by ClipboardRequestItemFormat(), which is called
 * when the application wants to retrieve the current transfer item. */
typedef struct {
    VMFileHandle		CRA_file;		/* The VM file handle of the transfer file */
    VMChain		CRA_data;		/* The handle of the VM chain containing the
				 * transfer item */
    word		CRA_extra1;		/* an extra word of data */
    word		CRA_extra2;		/* another extra word of data */
} ClipboardRequestArgs;</PRE>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Clipboard_4.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Clipboard_6.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">2.2 ClipboardItemFormatInfo</A> 
<!-- to next --> | <A HREF="Clipboard_8.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">2.4 Clipboard Item Formats</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
