<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: Input_f.htm,v 1.1 97/06/02 16:19:44 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Ink Data Structures</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">Input</A>: 4.1 <A HREF="Input_e.htm">Pen Input and Ink</A>: 
Ink Data Structures</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Input_e.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Input_e.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">4 Pen Input and Ink</A> 
<!-- to next --> | <A HREF="Input_10.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">4.2 Ink Input Flow</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<P>
Ink input is stored in data blocks. The Input Manager stores up Ink events into a data block and then transfers the block to the proper window or application with <CODE>
MSG_META_NOTIFY_WITH_DATA_BLOCK</CODE>
. (This is a general change notification message.) The type of the data block passed is NT_INK, the manufacturer ID is MANUFACTURER_ID_GEOWORKS.</P>
<P>
<A NAME="IX_InkHeader">
 </A>
The data block is headed by an <CODE>
InkHeader</CODE>
 structure (defined below). The header is followed by a list of points, all in screen coordinates (not points as with normal graphics commands). The block will contain as many points as are registered during the Ink input sequence.</P>
<P>
The <CODE>
InkHeader</CODE>
 structure has the following format:</P>
<PRE>typedef struct {
    word       IH_count;
    Rectangle  IH_bounds;
    optr       IH_destination;
    dword      IH_reserved;
    Point      IH_data;
} InkHeader;</PRE>
<P>
The fields of the structure are listed below with the information they contain.</P>
<DL>
<DT>
<CODE>
IH_count</CODE>
</DT><DD>The number of points stored in the data block.</DD>
<DT>
<CODE>
IH_bounds</CODE>
</DT><DD>The bounds of the Ink input on the screen (in document coordinates).</DD>
<DT>
<CODE>
IH_destination</DT><DD>
</CODE>
The destination of the Ink input. An object can use this field to see if the Ink was sent directly to it or if it received the Ink simply due to an overlap.</DD>
<DT>
<CODE>
IH_reserved</CODE>
</DT><DD>Internal data; do not use.</DD>
<DT>
<CODE>
IH_data</CODE>
</DT><DD>Actually a label indicating the beginning of the list of points. Following this label will be a number of <CODE>
Point</CODE>
 structures, each one detailing a single Ink point.</DD>
</DL>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Input_e.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Input_e.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">4 Pen Input and Ink</A> 
<!-- to next --> | <A HREF="Input_10.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">4.2 Ink Input Flow</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
