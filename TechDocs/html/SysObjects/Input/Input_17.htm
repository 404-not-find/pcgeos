<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: Input_17.htm,v 1.1 97/06/02 16:18:40 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Extending the Hierarchies</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">Input</A>: 5.6 <A HREF="Input_11.htm">Input Hierarchies</A>: 
Extending the Hierarchies</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Input_11.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Input_16.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">5.5 Using Model</A> 
<!-- to next --> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<P>
You may also extend or modify the hierarchies to add other objects that are not active nodes by default. If custom objects wish to use the hierarchies, you will need to add instance data and message handlers for their classes. The following steps must be taken to add a new node in a hierarchy:</P>
<OL>
<LI>
Add a hierarchical instance field of type <CODE>
HierarchicalGrab</CODE>
.</LI>
<LI FIXME_NumListOther>
Add a handler for <CODE>
MSG_META_MUP_ALTER_FTVMC_EXCL</CODE>
. This method alters the custom instance field for the grab and release messages for all hierarchies. You must call the superclass in your handler.</LI>
<LI FIXME_NumListOther>
Add methods to handle the GAINED and LOST messages pertaining to the particular hierarchy you are extending. These methods should call <CODE>
FlowUpdateHierarchicalGrab()</CODE>
. You can also add behavior exhibited when the object gains or loses the exclusive. Depending on what you are subclassing, your default behavior may already take care of this. For instance subclasses of <CODE>
VisClass</CODE>
 automatically handle losing and gaining the target exclusive.</LI>
<LI FIXME_NumListOther>
Add a method to handle the GET message for the particular hierarchy you are extending. This method returns the optr of the object set in the new instance field. The method should return <EM>
true</EM>
 to signal that it is capable of gaining the exclusive.</LI>
<LI FIXME_NumListOther>
Add the capability to handle the <CODE>
MSG_META_SEND_CLASSED_EVENT </CODE>
with the <CODE>
TravelOption</CODE>
 of the particular hierarchy you are extending. The way you handle this message depends on the hierarchy affected, as discussed below.</LI>
</OL>
<P>
TO_FOCUS and TO_TARGET requests should only travel down hierarchies of the same name. If no further travel is possible, the method should pass the event on to the superclass for handling. TO_MODEL requests should only travel down the Model hierarchy if it exists and the next optr is non-null.</P>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Input_11.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Input_16.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">5.5 Using Model</A> 
<!-- to next --> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
