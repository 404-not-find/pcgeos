<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: Input_c.htm,v 1.1 97/06/02 16:19:30 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Keyboard Input Flow</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">Input</A>: 3.1 <A HREF="Input_b.htm">Keyboard Input</A>: 
Keyboard Input Flow</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Input_b.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Input_b.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">3 Keyboard Input</A> 
<!-- to next --> | <A HREF="Input_d.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.2 Keyboard Events</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<P>
Each time the user presses a character (with or without modifier keys) on the keyboard, the Input Manager generates a single Keyboard event and passes it to the GenSystem object. The GenSystem object delivers the event to all the proper objects based on passive grabs (if any) and the current focus hierarchy.</P>
<P>
As with mouse events, all Keyboard events are passed down the object hierarchy from the GenSystem object through an application's GenApplication object and on down to a leaf object. When handling keyboard input, you can choose to intercept the events at the GenApplication level or at any node below it where the event should be handled.</P>
<P>
Unlike with mouse input, there is no &quot;implied grab&quot; for keyboard input. Keyboard input is always passed to the object that has the focus (for information on the Focus hierarchy, see <A HREF="Input_14.htm#53863"> Using Focus</A>
). Therefore the focus is the keyboard's &quot;active grab.&quot;</P>
<P>
Objects can, however, set up passive grabs as they can with mouse input. A pre-passive grab allows the visible object to receive Keyboard events before the focus object gets them. A post-passive grab delivers events to the visible object after they have been sent to the focus. For more information about gaining and releasing the passive keyboard grabs, see <A HREF="../../UI/VisClass/index.htm">the VisClass chapter</A>.</P><P>
If you intercept Keyboard events, you must be sure to return any events that you don't use. For example, if you only want to detect when the user hits the &quot;a&quot; key, you must return all keypresses that are not &quot;a.&quot; Otherwise, your <CODE>
MSG_META_KBD_CHAR</CODE>
 handler will eat all keypresses, and keyboard menu navigation will not work. If intercepting Keyboard events in a generic object, you can simply call the superclass for each unused character. If intercepting Keyboard events in a visible object, you must send <CODE>
MSG_META_FUP_KBD_CHAR</CODE>
 for each unused character.</P>
<P>
To ensure that a particular object (for example, a specific GenText object) automatically will receive keyboard input, you must set <CODE>
HINT_DEFAULT_FOCUS</CODE>
 for that object and all its parents up to the GenPrimary containing it. Otherwise, the generic UI does not know which object should gain the default focus.</P>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Input_b.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Input_b.htm"><IMG SRC="../../docImages/prevUp.gif" BORDER="0" ALT="Prev: ">3 Keyboard Input</A> 
<!-- to next --> | <A HREF="Input_d.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.2 Keyboard Events</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
