<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>

<!-- $Id: Shapes_14.htm,v 1.2 97/09/05 11:48:27 lawrence Exp $ -->
<META NAME="copyright" CONTENT="Copyright 1997 GEOWORKS">
<!-- <META NAME="description" CONTENT=""> -->
<!-- <META NAME="keywords" CONTENT=""> -->
<LINK REL="STYLESHEET" HREF="../../docHelpers/style.css">
<LINK REV="MADE" HREF="mailto:doc-feedback@geoworks.com">

<TITLE> Masks</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">


<H1 CLASS="subsectionTitle">
<A HREF="index.htm">Drawing Graphics</A>: 3.4 <A HREF="Shapes_10.htm">Shape Attributes</A>: 
Masks</H1>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Shapes_10.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Shapes_13.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">3.3 Mix Mode</A> 
<!-- to next --> | <A HREF="Shapes_15.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.5 Line-Specific Attributes</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
<PRE>GrSetAreaMaskSys(), GrSetAreaMaskCustom(), GrGetAreaMask(), GrSetLineMaskSys(), GrSetLineMaskCustom(), GrGetLineMask(), GrSetTextMaskSys(), GrSetTextMaskCustom(), GrGetTextMask()</PRE>
<P>
Masks are the pixellated equivalent of hatch patterns. Instead of specifying a set of dashed lines, the program uses an 8x8 bitmap array which will be tiled. The graphics system provides a number of standard mask patterns, including 65 percentage masks (for achieving, e.g., a 50% fill) and several shape patterns. It's simple to ask that the inverse of a system pattern be used instead of the pattern itself. The program may also specify and use custom draw masks by setting an 8 byte array. 
<IMG SRC="Shapes_14_maskRepeat.gif">

</P>
<P>
<A NAME="IX_GrGetAreaMask()">
 </A>
<A NAME="IX_GrSetAreaMaskCustom()">
 </A>
<A NAME="IX_GrSetAreaMaskSys()">
 </A>
The <CODE>
GrSetAreaMaskSys()</CODE>
 routine specifies one of the standard draw masks to use when filling areas. <CODE>
GrSetAreaMaskCustom()</CODE>
 allows the program to specify a custom mask by passing a pointer to an 8 byte. Each byte of the buffer represents one row of the mask; the rows are ordered from top to bottom. <CODE>
GrGetAreaMask()</CODE>
 returns the current area mask.</P>
<P>
<A NAME="IX_GrGetLineMask()">
 </A>
<A NAME="IX_GrSetLineMaskCustom()">
 </A>
<A NAME="IX_GrSetLineMaskSys()">
 </A>
There are similar routines which set the drawing mask to use when drawing lines: <CODE>
GrSetLineMaskSys()</CODE>
, <CODE>
GrSetLineMaskCustom()</CODE>
, and <CODE>
GrGetLineMask()</CODE>
. <A NAME="IX_GrGetTextMask()">
 </A>
<A NAME="IX_GrSetTextMaskCustom()">
 </A>
<A NAME="IX_GrSetTextMaskSys()">
 </A>
To work with the drawing mask used when rendering text, use <CODE>
GrSetTextMaskSys()</CODE>
, <CODE>
GrSetTextMaskCustom()</CODE>
, and <CODE>
GrGetTextMask()</CODE>
.</P>
<P>
For the most part, it's probably not a good idea to use masks when drawing text, since the pixelated nature of the mask is likely to make the text less legible. However, when drawing text in very large point sizes, draw masks are probably fine.</P>
<P>
Since several of the masks are associated with a fill percentage, some programmers may confuse masks with gray-scale fills. Grays should be implemented with colors, by drawing in a color with equal red, green, and blue values.
<IMG SRC="Shapes_14_maskThrough.gif">

</P>
<P>
When you are building a document image, do not use draw masks just to achieve a lighter color. That is, if you are not making use of the &quot;mask&quot; property of draw masks (i.e., you don't care if you can see through it), then you should just specify a lighter color and let the kernel do the dithering. This is important especially because drawing masks in PostScript takes much longer than drawing a bitmap of the same size.</P>
<P>
<A NAME="IX_SDM_&ldots;  (SystemDrawMask type)">
 </A>
<A NAME="IX_SystemDrawMask">
 </A>
<A NAME="IX_SysDrawMask">
 </A>
When constructing or interpreting system draw mask values, first remember that if the SDM_INVERSE flag is set, then the inverse of the mask will be used instead of the mask itself. The remaining bits should be a <CODE>
SystemDrawMask</CODE>
 value, a value between zero and SDM_0. Draw mask values between zero and 24 are various graphic draw mask patterns. Values between 25 and 89 are percentage fill masks, 89 corresponding to the empty fill and 25 to a 100% fill. Several SDM_... constants have been set up with the more commonly used system draw patterns. For a list of constants, see the Routines manual.</P>
<HR>
<!-- This blob is a bunch of standard links: up, back, index, etc. -->
<!-- up to top -->|&nbsp;<A HREF="../../index.htm"><IMG SRC="../../docImages/upTop.gif" ALT="Up: " BORDER="0">GEOS SDK TechDocs</A>
<!-- up to parent -->| <A HREF="Shapes_10.htm"><IMG SRC="../../docImages/up.gif" ALT="Up" BORDER="0"></A>
<!-- down to first child --> 
<!-- to previous --> | <A HREF="Shapes_13.htm"><IMG SRC="../../docImages/prev.gif" BORDER="0" ALT="Prev: ">3.3 Mix Mode</A> 
<!-- to next --> | <A HREF="Shapes_15.htm"><IMG SRC="../../docImages/next.gif" BORDER="0" ALT="Next: ">3.5 Line-Specific Attributes</A> 
<HR>
<!-- That blob was a bunch of standard links: up, back, index, etc. -->
</BODY>
</HTML>
